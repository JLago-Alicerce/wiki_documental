> NOVIEMBRE 2022

PLAN DE TRANSFERENCIA DE

CONOCIMIENTOS

\[\*(

Confidencial Navantia

)\*\]

\[\*(

Navantia Confidential

)\*\]

**CONFIDENCIAL NAVANTIA**

ESTE DOCUMENTO Y LA INFORMACIÓN QUE CONTIENE SON PROPIEDAD DE NAVANTIA.

NO PUEDE SER REPRODUCIDO PARCIAL O TOTALMENTE NI DIVULGADO A TERCEROS

SIN AUTORIZACIÓN ESCRITA DE NAVANTIA. UNA VEZ FINALIZADA LA RAZÓN DE SU

TRANSFERENCIA, DEBERÁ SER DEVUELTO A NAVANTIA.

**NAVANTIA CONFIDENTIAL**

THIS DOCUMENT AND THE INFORMATION HEREIN IS PROPERTY OF NAVANTIA.

IT CANNOT BE PARTIALLY OR TOTALLY REPRODUCED NOR DISCLOSED TO THIRD

PARTIES WITHOUT WRITTEN PERMISSION FROM NAVANTIA. ONCE THE REASON FOR

WHICH IT WAS TRANSFERED IS OVER, IT MUST BE RETURNED TO NAVANTIA.

**INFORMACIÓN CLASIFICADA POR NAVANTIA**

# ÍNDICE

### 1 Objetivos del documento

> Con el siguiente documento se pretende reflejar, en rasgos generales,
> el traspaso de conocimientos que se está realizando hacia el actual
> equipo de trabajo.
>
> Siguiendo, como punto de partida, la reunión de informe de seguimiento
> de Mayo 2022, en la que se desglosaban las necesidades surgidas en el
> marco de los proyectos en curso, en relación a la salvaguarda de los
> activos, las necesidades de los clientes del programa Turco y a la
> tropicalización del programa Noruego, sumado a los nuevos
> requerimientos surgidos por efectos de la pandemia y las propuestas de
> modernización de los sistemas existentes, se han identificado diversos
> puntos que pasaremos a comentar a lo largo del presente documento.

### 2 Servicio de soporte general

#### 2.1 Descripción general

> Actualmente se está prestando servicio de soporte y mantenimiento a
> los usuarios que contactan con nosotros, debemos estar pendientes de
> las siguientes vías de comunicación:

- Service Desk

- Correo ⮚Teams

#### 2.2 Situación actual

> La vía principal de soporte es el Service Desk de Navantia, pero
> algunas de las incidencias/solicitudes no quedan registradas en el
> sistema debido a que en algunos casos, las herramientas como el correo
> o el uso de Teams, hacen más fluida la comunicación y finalmente la
> resolución del incidente. Véase InterArma, solicitudes Información GD
> Históricos, servicios de correo e Interfaces con SAP, además de
> soporte propio a la DTI y terceros (Plexus/Accenture)

#####  2.2.1 Necor@V6

- Resolviendo SD en cuanto a la solicitud constate de nuevos accesos al
  aplicativo. El uso es mayor por la necesidad de consulta de
  documentación base para los desarrollos de programas (buques) nuevos.

- Resolución de SD relacionadas con incidencias genéricas por
  obsolescencia de componentes para Visual Basic 6.

- Resolución de SD derivados del uso extendido de los módulos Taquillas
  y Pases de Vehículos críticos debido a la situación excepcional de
  covid.

- Alta de Personal para asignación de Taquillas. Nueva petición para
  integración SAP.

- Renovación constante de pases de vehículos. Alta demanda a finales de
  mes (pases mensuales) y a finales de año (pases anuales)

#####  2.2.2 PDB

- Apoyo en la gestión de solicitudes de accesos a PDB

- Cargas a PDB de proyectos históricos

#####  2.2.3 Clientes Externos

- Colapso por modificación masivas de Materiales desde SAP. Modificado
  de característica que afectó a los servicios de SAP y Nécora.

- Carga de Hojas Catálogo y Materiales con familias no tipadas aún en
  PDB. (tipo M)

- Revisión de procesos de carga diaria y por petición de usuarios tanto
  finales como de la DTI.

#### 2.3 Transferencia de conocimientos

> Explicación de las herramientas actuales, como contactar y editar
> Service Desk, usuarios más frecuentes y sus tiempos de respuesta, se
> está realizando el soporte en conjunto.
>
> Se ha elaborado, y se está manteniendo, una lista de peticiones
> frecuentes y resolución de incidencias para disponer de una guía de
> solución y respuesta para cada uno de los casos más habituales o con
> previsión de que puedan surgir.

#### 2.4 Responsables

- José Manuel Lago Varela

- BCK - Adrián García Riera

### 3 Proyectos históricos / PDB

#### 3.1 Descripción general

Servicio de apoyo a proyectos históricos de datos a PDB, a día de hoy
una serie de aplicaciones Legacy siguen en activo y necesitan de nuestra
atención para su mantenimiento y supervisión.

#### 3.2 Situación actual

En consonancia con las solicitudes constantes de acceso a Necor@, desde
PDB se requiere del acceso a toda la documentación de programas como es
el Noruego, Australiano, F100, etc, ….

Además de la consulta de información, en algunos casos es necesaria la
revisión de información (Planos) debido a garantías aún vigentes (5º
BAM - 0537) o modernización de Programas (Tropicalización F310)

#####  3.2.1 Necor@V6

- Garantizamos el correcto funcionamiento de las aplicaciones a través
  Citrix y desde equipos cliente.

- Actualmente se está dando soporte a las funcionalidades más en uso
  como son Taquillas, Pases de Vehículo y Gestión Herramental.

- La herramienta da accesibilidad a la información de consulta de datos
  históricos de cualquiera de las otras entidades (OOTT, Pedidos, etc)

#### 3.3 Transferencia de conocimientos

#####  3.3.1 Necor@V6

Parte del equipo actual ya ha desempañado mantenimiento y análisis de
esta aplicación y sus entidades, igualmente se hace una revisión, para
completar documentación, de la arquitectura actual (cliente servidor
Citrix), infraestructura (BBDD) o cómo realizar despliegues.

#####  3.3.2 PDB

Conocimiento de la información histórica actual y revisión de la
información disponible en la aplicación, así como la infraestructura y
el negocio (BBDD DB2)

Traspaso de información del nuevo modelo de datos. (NecoraNet) Formación
y soporte en la utilidad de gestión de usuarios de PDB.

#### 3.4 Responsables

- José Manuel Lago Varela

- BCK - Adrián García Riera

### 4 Interfaces con Clientes Externos

#### 4.1 Descripción general

Servicio de mantenimiento de los interfaces con clientes externos,
incluye el mantenimiento de programas activos, programas en
mantenimiento (F310 \\ Tropicalización) y programa base para nuevos
buques (F110).

#### 4.2 Situación actual

Atendiendo procesos de carga masiva a través de JOBs y revisión de
notificaciones automáticas.

#####  4.2.1 Ecadat

- Revisión de aplicativo, extracción, transformación y carga de
  información entre distintos sistemas JOBs y entornos (ETL).

**4.2.2 ETLs**

- Procesos de traspaso de información e PDB a cliente externo.
  (Australia, Noruega y Turquía)

#####  4.2.3 Procesos manuales

> ⮚La carga de información conlleva la carga de Datos Maestros que, en
> algunos casos, requiere la intervención manual para este tipo de
> carga. Además de esto, se requiere también de un análisis para adaptar
> la información que tiene origen distinto a Necora como es el caso de
> WindChill/ProjectWise (Astillero San Fernando)

#### 4.3 Transferencia de conocimientos

Se traslada la información necesaria con respecto a los componentes que
se desencadenan en la migración. Revisión de aplicativo, extracción,
transformación y carga de información entre distintos sistemas JOBs y
entornos (ETL).

Aprendizaje de los distintos flujos de negocio de la carga masiva de
Planos y de todas sus subentidades.

Servidores y bases de datos actuales, entornos de Test y Producción,
revisión de logs, etc, …

Revisión de proyecto de TFS con los componentes de carga (ETLs) de
información histórica.

Conocimientos en el traspaso de información de Gestión Documental tanto
de Necor@ como sistemas externos (WindChill/ProjectWise)

#### 4.4 Responsables

- José Manuel Lago Varela

- BCK - Adrián García Riera

### 5 Soporte y mantenimiento InterArma – Galia

#### 5.1 Descripción general

Servicio de soporte y mantenimiento de los interfaces de comunicación de
InterArma - Galia Armada.

Este aplicativo sirve para la gestión de Varadas Programadas o
Reparaciones puntuales en los Buques (Cádiz, Ferrol, San Fernando,
Cartagena).

Aunque la aplicación tiene previsión de quedar obsoleta a corto plazo,
es posible que la carga de información se deba llevar a cabo, así como
la revisión o comprobación de información histórica.

Anexo a este aplicativo existe otro servicio Windows que se encarga de
gestionar de manera automática la comunicación entre la Armada y
Navantia (Galia)

#### 5.2 Situación actual

#####  5.2.1 InterArma

Tras la realización de todas las tareas adquiridas y desarrolladas a día
de hoy sólo se está dando soporte.

- Resolución de incidencias debido a desincronización de comunicaciones
  Armada-Navantia.

- Resolución de incidencias propias del aplicativo.

- Peticiones solicitadas por usuarios finales, como son, nuevas tarifas.

> **Está previsto que InterArma deje de tener funcionalidad a día
> 31/12/2022**

#####  5.2.2 Comunicación sistema Armada – Galia

Se puede definir como un sistema de registro y notificación
complementario a InterArma para el registro automático de Presupuestos y
notificaciones a los actores, acorde al estado de estos presupuestos.

- Notificación en los cambios de estado de estos o incluso en el avance
  de los trabajos de reparaciones realizados ⮚Control y Monitorización
  en el envío/recepción.

- Resolución de incidencias en el envío/recepción. En comunicación
  constante con Navantia/Armada.

#####  5.2.3 Línea de desarrollo 

En proceso de desarrollo de mejora de funcionalidad, línea de desarrollo
Galia en la que se está realizando el traslado de toda la lógica actual
a un sistema de microservicios que mejore y facilite la trazabilidad y
mantenimiento de la herramienta.

La idea actual que se está siguiendo en la línea de desarrollo es la
creación de dos servicios independientes:

- Uno de ellos se encargará de revisar el correo y guardarlo con la
  posibilidad de escalarlo a más comunicaciones, no sólo la actual.

- Otro se encargaría de procesar la información registrada, pudiendo
  tener una mejor trazabilidad y escalabilidad.

#### 5.3 Transferencia de conocimientos

Transferencia de conocimientos sobre incidencias \\ comunicaciones
comunes, se crea y mantiene una guía de solución a estas tareas.

Parte del equipo de trabajo ha colaborado estrechamente en el análisis
de lo que hay a día de hoy en funcionamiento para trasladar las
funcionalidades al nuevo desarrollo, por lo que ya se partía de un
amplio conocimiento de lo que hay a día de hoy.

#### 5.4 Responsables

- Roberto Sanchís Martínez

- BCK - Sofía Casas López

### 6 Integración con SAP

#### 6.1 Descripción general

Servicio de mantenimiento de los interfaces con SAP de Necor@, PDB y
resto de aplicaciones del departamento como GOPYP

Sistema desarrollado a medida que funciona como un Message Broker (MQ)
que contiene una funcionalidad de entrada y otra de salida, guardado de
log, asegurado de información y reproceso de mensajes en caso de ser
necesario.

#### 6.2 Situación actual

- Asegurar la comunicación de la información entre sistemas SAP y
  Necora/PDB.

- En contina comunicación con Navantia/Accenture para asegurar la
  confirmación de Integración y resolución a errores.

- Posibilidad de añadir a corto plazo más sistemas a la comunicación
  (Gopyp)

- Actualmente Gopyp requiere información concerniente a los
  Proyectos/Grafos por lo que se requiere de nuevos mantenimientos.

- Añadir más datos maestros de SAP como son las Hojas de Catálogo o
  Personal (Empleados)

- El uso de Datos Maestros en PDB y Gopyp hace necesario que cada vez se
  tenga más entidades actualizadas.

#####  6.2.1 Línea de desarrollo 

Para mejorar los mantenimientos, pruebas, resolución de errores; el
código actual de T-SQL (procedures) será migrado a C# para mantener una
única fuente de codificación, por lo que se migrará código de .Net FK
4.8 a .Net 5/6 con arquitectura de Microservicios

Estos microservicios contarán con la posibilidad de Dockerizar. Esto
abstraería estas app del SO con lo que los despliegues o cambios de
versión serían más sencillos, además de la posibilidad de despliegues en
servidores Linux. Además de esto, posibilita la traza de errores,
depuración de código y despliegues con menor impacto. Arquitectura
Microservicios es un tipo de metodología de desarrollo en la que muchas
empresa TIC desarrollo sus productos.

Se está iniciando un desarrollo de microservicio por entidad
(Materiales, Proveedores y Proyecto) que integre la mensajería, abriendo
la posibilidad de añadir un gestor de colas para que se consuma a través
de NecoraNet (sistema actual), GOPYP 4.0 u otros aplicativos.

Este planteamiento de arquitectura sería un siguiente paso en la mejora
de trazabilidad y escalabilidad de la aplicación, con esto queremos
decir que, si existen nuevas entidades para integrar en SAP, como
Empleados y Hojas de Catálogo, se podría dar una rápida respuesta y
además facilitaría el integrar otras aplicaciones que consuman esta
información.

#### 6.3 Transferencia de conocimientos

El equipo de trabajo actual ya colaboró en parte del análisis de las
funcionalidades anteriores para la realización de esta migración
independientemente de eso se ha realizado un repaso a:

- Herramientas actuales, cómo contactar y editar Service Desk

- Traspaso de conocimientos del sistema actual, arquitectura BBDD,
  tablas, código fuente y herramientas usadas ⮚Funcionalidades de
  entornos de Test y Producción y realización de despliegues

#### 6.4 Responsables

- Sofía Casas López

- BCK - Roberto Sanchís Martínez

### 7 Migración de aplicaciones a arquitectura RADAR

**7.1 Descripción general**

Servicio de modernización de las aplicaciones Necor@ para migrarlas a
arquitectura RADAR asegurando su mantenibilidad.

#### 7.2 Situación actual

Con el fin de unificar en una única app la gestión de procesos se está
realizando un análisis de esta arquitectura Radar para la posibilidad de
nuevos desarrollos. Actualmente PDB y EOLO están en uso de este tipo de
arquitectura.

Elaboración y mantenimiento de un manual y guía rápida para la creación
de proyectos en PDB usando Radar. Esta guía contiene una explicación
para poder crear y ejecutar proyectos en Radar, así como pasos a seguir
para integrar, depurar y testear.

Contribuir a dar un mejor soporte a usuarios finales y DTI en cuanto a
resolución de problemas tanto técnicos como lógicos (pe: ciclos de vida
de un plano)

Se están manteniendo reuniones frecuentes con DTI Navantia para la
presentación de proyecto en Test, pendiente de feedback por Navantia y
usuarios finales para mejora de procesos

#####  7.2.1 Línea de desarrollo 

Se está trasladando las funcionalidades más activas de Necor@V6 al
aplicativo NecoraNet con arquitectura Radar. Este traslado exige también
un modelo de datos nuevos y la migración de la información a NecoraNet.

Actualizando para Radar 3.0 con Entity Framework 6 y guía de despliegue
de aplicaciones, Script de BBDD y carga de información

A día de hoy se está en fase de entrega de Gestión de Taquillas y
Vestuarios y a futuro se pretende migrar las funcionalidades de Pases de
vehículo y Gestión Herramental

Junto a los puntos anteriores se actualizará la documentación ya
existente para que esté disponible tanto para Navantia como terceros.

#### 7.3 Transferencia de conocimientos

Se comparten los conocimientos obtenidos sobre la aplicación de Radar
para poder seguir con las líneas de desarrollo de integración en esta
aplicación.

Conocimiento de la arquitectura y de los componentes cliente, servidor y
base de datos así como pasos para la realización de despliegues y
resolución de posibles incidentes relacionados con la aplicación.

Estudio de soluciones NecoraNet, código fuente TFS y lógica de negocio.

Se ha recibido formación impartida para Radar por Inetum para el
aprendizaje a nivel teórico/práctico de los desarrollos de
Radar/NecoraNet.

Se da una formación a mayores, con todo lo aprendido antes de la
formación oficial, y sobre cómo adaptar lo ya realizado a la
arquitectura y estructura común del código ya existente.

Con este base se comienza a modificar algunos desarrollos que se
enfocaron de forma distinta por no tener conocimiento completo de la
arquitectura.

Elaboración de guías rápidas y primeros pasos para los futuros correctos
desarrollos de cualquier funcionalidad necesaria.

#### 7.4 Responsables

- Adrián García Riera

- BCK - José Manuel Lago Varela

### 8 Gestión de la obsolescencia

#### 8.1 Descripción general

Hay que estar pendientes de las actualizaciones y que no quede ningún
proyecto sin funcionalidad o con posibles brechas de seguridad por
caducidad en su soporte oficial.

#### 8.2 Situación actual

#####  8.2.1 Migración de Bases de Datos SQL Server

> Reducir el número de Motores SQL Server obsoletos o con riesgos de
> seguridad.
>
> Mínima versión SQL Server \>= 2012.
>
> Base de datos de test para Proyectos con Clientes Externos (Australia,
> Noruega y Turquía).
>
> Base de datos de Producción para aplicativos como InterArma o Gestor
> de Notificaciones Galia.

#####  8.2.2 Migración de aplicaciones para ejecutar en W10

> Evitar uso de SO con obsolescencia o sin soporte estableciendo
> versiones mínimas como son Windows 10 y Windows Server 2008.
>
> En proceso de migración de código existente en VSS (Visual Source
> Safe) a TFS y posibilidad de ejecutar aplicaciones desarrolladas en
> VB6 en equipos W10. Pendiente InterArma.

#### 8.3 Transferencia de conocimientos

Estamos al tanto de estas situaciones y nos mantenemos muy pendientes de
las necesidades de migración o propuestas de soluciones actualizadas.

#### 8.4 Responsables

- José Manuel Lago Varela

- BCK - Adrián García Riera

### 9 Progreso actual en el ciclo de traspaso de conocimientos

<img src="media/image6.jpg" style="width:9.39097in;height:1.97708in" />

**Plan de transferencia de conocimientos**

**Ref. TC_202211**

> 16
>
> **ANEXO I – Service Desk atendidos por los grupos relacionados con
> Necora/PDB desde enero del 2022**

**Plan de transferencia de conocimientos**

**Ref. TC_202211**

<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 5%" />
<col style="width: 6%" />
<col style="width: 5%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 8%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 5%" />
<col style="width: 10%" />
</colgroup>
<thead>
<tr>
<th rowspan="2" style="text-align: left;"></th>
<th colspan="2" style="text-align: left;"><blockquote>
<p><strong>2022</strong></p>
</blockquote></th>
<th style="text-align: left;"></th>
<th style="text-align: left;"></th>
<th style="text-align: left;"></th>
<th style="text-align: left;"></th>
<th style="text-align: left;"></th>
<th style="text-align: left;"></th>
<th style="text-align: left;"></th>
<th style="text-align: left;"></th>
<th style="text-align: left;"></th>
<th rowspan="2" style="text-align: center;"><strong>Cuenta
2022</strong></th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p><strong>Ene</strong></p>
</blockquote></th>
<th style="text-align: left;"><strong>Feb</strong></th>
<th style="text-align: left;"><blockquote>
<p><strong>Mar</strong></p>
</blockquote></th>
<th style="text-align: left;"><strong>Abr</strong></th>
<th style="text-align: left;"><strong>May</strong></th>
<th style="text-align: left;"><strong>Jun</strong></th>
<th style="text-align: left;"><blockquote>
<p><strong>Jul</strong></p>
</blockquote></th>
<th style="text-align: left;"><strong>Ago</strong></th>
<th style="text-align: left;"><blockquote>
<p><strong>Sep</strong></p>
</blockquote></th>
<th style="text-align: left;"><strong>Oct</strong></th>
<th style="text-align: left;"><strong>Nov</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Incidencia</strong></td>
<td style="text-align: left;"><blockquote>
<p><strong>29</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>37</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>35</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>13</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>15</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>19</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>7</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>9</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>19</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>16</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>11</strong></p>
</blockquote></td>
<td style="text-align: center;"><strong>210</strong></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Solicitud</strong></td>
<td style="text-align: left;"><blockquote>
<p><strong>41</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>29</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>24</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>26</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>13</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>32</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>9</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>11</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>40</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>36</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>18</strong></p>
</blockquote></td>
<td style="text-align: center;"><strong>279</strong></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Total general</strong></td>
<td style="text-align: left;"><blockquote>
<p><strong>70</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>66</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>59</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>39</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>28</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>51</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>16</strong></p>
</blockquote></td>
<td style="text-align: center;"><blockquote>
<p><strong>20</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>59</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>52</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>29</strong></p>
</blockquote></td>
<td style="text-align: left;"><blockquote>
<p><strong>489</strong></p>
</blockquote></td>
</tr>
</tbody>
</table>

> 17


# Análisis Funcional: Necor@V6 - Órdenes de Trabajo

Documento descriptivo de funcionalidades extraídas de 7 vídeos de la
aplicación antigua en VB6 (Necor@V6).

En este informe se listan las columnas del grid principal, los campos
del formulario de detalles y las funcionalidades de las distintas
botoneras para orientar la migración funcional.

## 1. Video 1: Campos y Funcionalidades Básicas

1.  Grid principal: columnas visibles

- Orden (ID OT)

- PDF (icono)

- Descripción

- Revisión

- Tipo

- Tarea

- Situación P/A

- Grupo Cote

- Estado

- Centro Emisor

- Centro Ejecutor

- Plano Origen

- Actividad

- Partida

- Precio Objetivo

- AV. Plan (%)

- Grado de Definición (%)

- H.E. Previstas

- H.E. Lanzadas

- H.E. Consumidas

2.  Campos en detalle (al cargar)

- Establecimiento

- Obra

- Centro Emisor / Centro Ejecutor

- Tipo Orden

- Tarea

- Sección

- Grupo Cote

- Zona / Bloque / Módulo

- Prod. Intermedio

- Descripción Corta / Larga

- Situación P/A (Aprobada, Realizada, Lanzada)

- I.P.A. (checkbox)

- Materiales (checkbox)

- Horas Presup. / Reales / H.E. Previstas / H.E. Lanzadas / H.E.
  Consumidas / H.E. Imputadas

- Avance (%)

- Grado de Definición (%)

- Últimas revisiones (Lanzada / Aprobada / Configuración)

- Aviso de Revisión Pendiente

- Cuenta / Partida de cargo

- Av. Tasa (%) / Av. Pint (%)

- Moneda / Usuario Creador / Fecha Creación / Responsable / Fecha Límite
  / Estado / Observaciones

3.  Funcionalidades principales

- Visualizar listado de OTs con filtros y ordenamiento

- Crear OT

- Modificar OT

- Eliminar OT

- Consolidar horas e importes

- Cambio de estado (Aprobada, Realizada, Lanzada)

- Exportar/Imprimir OT

- Carga Masiva

- Consultas adicionales

## 2. Video 2: Pestaña Revisiones

4.  Grid principal: columnas visibles

- Orden (ID OT)

- PDF

- Descripción

- Revisión

- Tipo

- Tarea

- Situación P/A

- Grupo Cote

- Estado

- Centro Emisor

- Centro Ejecutor

- Plano Origen

- Actividad

- Partida

- Precio Objetivo

- AV. Plan (%)

- Grado de Definición (%)

- H.E. Previstas

- H.E. Lanzadas

- H.E. Consumidas

5.  Campos en detalle (al cargar)

- Añade campos en Revisiones: I.P.A. (checkbox)

- Situación P/A: Producción (checkbox), Configuración (checkbox)

- Materiales (checkbox)

- Horas Presupuestadas

- H.E. Previstas / H.E. Lanzadas / H.E. Consumidas / H.E. Imputadas

- Av. Tasa (%)

- Av. Pint (%)

- Situación Serv. (checkbox)

- Tipo Avance (checkbox)

- Aviso de Revisión Pendiente

- Cuenta / Partida de cargo

6.  Funcionalidades principales

- Checkboxes para fases (Producción, Configuración)

- Botones: Nuevo, Modificar, Plano Origen, Imprimir

- Validación modal al no existir datos en Revisiones

## 3. Video 3: Confirmación de pestaña Lista de Materiales

7.  Grid principal: columnas visibles

- Orden (ID OT)

- PDF

- Descripción

- Revisión

- Tipo

- Tarea

- Situación P/A

- Grupo Cote

- Estado

- Centro Emisor

- Centro Ejecutor

- Plano Origen

- Actividad

- Partida

- Precio Objetivo

- AV. Plan (%)

- Grado de Definición (%)

- H.E. Previstas

- H.E. Lanzadas

- H.E. Consumidas

8.  Campos en detalle (al cargar)

- Pestaña Lista de Materiales presente (sin nuevos campos este vídeo)

9.  Funcionalidades principales

- Acceso visual a pestaña Lista de Materiales

## 4. Video 4: Pestaña Referencias

10. Grid principal: columnas visibles

- Orden (ID OT)

- PDF

- Descripción

- Revisión

- Tipo

- Tarea

- Situación P/A

- Grupo Cote

- Estado

- Centro Emisor

- Centro Ejecutor

- Plano Origen

- Actividad

- Partida

- Precio Objetivo

- AV. Plan (%)

- Grado de Definición (%)

- H.E. Previstas

- H.E. Lanzadas

- H.E. Consumidas

11. Campos en detalle (al cargar)

- Campos modal Referencias: Obra, OT, PDF, G.D., Descripción Larga,
  FA/CRA, GDC, Bloque, Módulo, Zona, Sit, GIN, SitPA, U.R. Realiz.,
  U.RevisPA, FFPressFin, FPenvProd

12. Funcionalidades principales

- Botones del modal: Buscar, Limpiar, Imprimir, Salir

## 5. Video 5: Menú Contextual de Acciones Avanzadas

13. Grid principal: columnas visibles

- Orden (ID OT)

- PDF

- Descripción

- Revisión

- Tipo

- Tarea

- Situación P/A

- Grupo Cote

- Estado

- Centro Emisor

- Centro Ejecutor

- Plano Origen

- Actividad

- Partida

- Precio Objetivo

- AV. Plan (%)

- Grado de Definición (%)

- H.E. Previstas

- H.E. Lanzadas

- H.E. Consumidas

14. Campos en detalle (al cargar)

- Menú contextual: Cambio de Situación Masiva, Cambio a Producción,
  Cambio de Tipo de Avance, Duplicar OT, Envío a SAP, Crear OTs desde
  Planos, Alta Productos/Entregar

15. Funcionalidades principales

- Opciones rápidas de gestión: duplicar, integración SAP, generar OTs
  desde planos

## 6. Video 6: Pestaña Operaciones y Consultas

16. Grid principal: columnas visibles

- Orden (ID OT)

- PDF

- Descripción

- Revisión

- Tipo

- Tarea

- Situación P/A

- Grupo Cote

- Estado

- Centro Emisor

- Centro Ejecutor

- Plano Origen

- Actividad

- Partida

- Precio Objetivo

- AV. Plan (%)

- Grado de Definición (%)

- H.E. Previstas

- H.E. Lanzadas

- H.E. Consumidas

17. Campos en detalle (al cargar)

- Campos en Operaciones: Orden, Línea, Descripción, Revisión, Clave
  Valoración, Encargado, Avance Proveedor, Usuario Avance, Fecha Último
  Avance, Demanda, Línea Demanda

18. Funcionalidades principales

- Consultas: Lista de Materiales, Productos a Entregar, Errores Avance
  Automático

- Botones: Mantenimiento, Ponderar Opera, Utilidades

## 7. Video 7: Pestaña Reporte y Presupuesto

19. Grid principal: columnas visibles

- Orden (ID OT)

- PDF

- Descripción

- Revisión

- Tipo

- Tarea

- Situación P/A

- Grupo Cote

- Estado

- Centro Emisor

- Centro Ejecutor

- Plano Origen

- Actividad

- Partida

- Precio Objetivo

- AV. Plan (%)

- Grado de Definición (%)

- H.E. Previstas

- H.E. Lanzadas

- H.E. Consumidas

20. Campos en detalle (al cargar)

- Campos en Reporte: Cargo, Partida, Presupuesto, Presup Cargo, Presup
  Partida, Control Agrupación (Por Agrupación/Por Partida), Fecha
  Reparto

- Checkboxes: Presupuesto, Grado Definición, Órdenes bloqueadas en
  Borrador, Reparto sin Bloquear

21. Funcionalidades principales

- Botones rápidos en Reporte: F7 Carga OOTT, F10 Importa OOTT, F9
  Liberar Presupuesto


# Análisis Funcional: Necor@V6 - Órdenes de Trabajo

Informe consolidado de la interfaz de Necor@V6, describiendo las
columnas del grid principal, los campos del formulario de detalles y las
funcionalidades asociadas a las distintas botoneras y pestañas.

## Pantalla Principal: Grilla de Órdenes de Trabajo

1.  Columnas visibles en la grilla:

- Orden (ID OT)

- PDF (icono)

- Descripción

- Revisión

- Tipo

- Tarea

- Situación P/A

- Grupo Cote

- Estado

- Centro Emisor

- Centro Ejecutor

- Plano Origen

- Actividad

- Partida

- Precio Objetivo

- AV. Plan (%)

- Grado de Definición (%)

- H.E. Previstas

- H.E. Lanzadas

- H.E. Consumidas

## Formulario de Detalles (Datos Generales)

2.  Campos en el formulario de Detalles:

- Establecimiento

- Obra

- Centro Emisor / Centro Ejecutor

- Tipo Orden

- Tarea

- Sección

- Grupo Cote

- Zona / Bloque / Módulo

- Prod. Intermedio

- Descripción Corta / Larga

- Situación P/A (Aprobada, Realizada, Lanzada)

- I.P.A. (checkbox)

- Materiales (checkbox)

- Horas Presup. / Reales / H.E. Previstas / H.E. Lanzadas / H.E.
  Consumidas / H.E. Imputadas

- Avance (%)

- Grado de Definición (%)

- Últimas revisiones (Lanzada / Aprobada / Configuración)

- Aviso de Revisión Pendiente

- Cuenta / Partida de cargo

- Av. Tasa (%) / Av. Pint (%)

- Moneda / Usuario Creador / Fecha de Creación / Responsable / Fecha
  Límite / Estado / Observaciones

## Pestaña Revisiones

3.  Campos y checkboxes en Revisiones:

- I.P.A. (checkbox)

- Situación P/A: Producción (checkbox), Configuración (checkbox)

- Materiales (checkbox)

- Horas Presupuestadas

- H.E. Previstas / H.E. Lanzadas / H.E. Consumidas / H.E. Imputadas

- Av. Tasa (%)

- Av. Pint (%)

- Situación Serv. (checkbox)

- Tipo Avance (checkbox)

- Aviso de Revisión Pendiente

- Cuenta / Partida de cargo

- Botones: Nuevo, Modificar, Plano Origen, Imprimir

## Pestaña Lista de Materiales

4.  Descripción:

- La pestaña "Lista de Materiales" está disponible junto a otras
  pestañas, sin mostrar campos adicionales en esta vista.

## Pestaña Referencias

5.  Campos del modal Referencias:

- Obra

- Orden de Trabajo

- PDF

- G.D.

- Descripción Larga

- FA/CRA

- GDC

- Bloque

- Módulo

- Zona

- Sit

- GIN

- SitPA

- U.R. Realiz.

- U.RevisPA

- FFPressFin

- FPenvProd

- Botones: Buscar, Limpiar, Imprimir, Salir

## Menú Contextual de Acciones Avanzadas

6.  Opciones del menú contextual:

- Cambio de Situación Masiva

- Cambio de Situación a Producción

- Cambio de Tipo de Avance

- Duplicar Órdenes

- Envío a SAP

- Crear Órdenes desde Planos (Cabecera y Componentes)

- Alta Productos/Entregar

## Pestaña Operaciones

7.  Campos en Operaciones:

- Orden

- Línea

- Descripción

- Revisión

- Clave Valoración

- Encargado

- Avance Proveedor

- Usuario Avance

- Fecha Último Avance

- Demanda

- Línea Demanda

- Botones: Mantenimiento, Ponderar Opera, Utilidades

## Pestaña Reporte y Presupuesto

8.  Campos en Reporte:

- Cargo

- Partida

- Presupuesto

- Presup Cargo

- Presup Partida

- Control Agrupación (Por Agrupación / Por Partida)

- Fecha Reparto

- Checkboxes: Presupuesto, Grado Definición, Órdenes bloqueadas en
  Borrador, Reparto sin Bloquear

- Botones rápidos: F7 Carga OOTT, F10 Importa OOTT, F9 Liberar
  Presupuesto

## Checklist Consolidado de Funcionalidades

| Funcionalidad             | Descripción breve                            |
|---------------------------|----------------------------------------------|
| Visualizar listado de OTs | Grilla con filtros y ordenamiento            |
| Crear OT                  | Formulario nuevo con campos obligatorios     |
| Modificar OT              | Campo Detalle y Consolidación editables      |
| Eliminar OT               | Eliminar/logical desde detalle               |
| Consolidar horas/importes | Campos de horas e importes                   |
| Cambio de Estado          | Checkboxes para fases                        |
| Exportar/Imprimir OT      | Botón Imprimir orden                         |
| Carga Masiva              | Importar múltiples OTs                       |
| Revisiones                | Pestaña con campos de avance y checkboxes    |
| Lista de Materiales       | Pestaña presente sin campos adicionales      |
| Referencias               | Listado de documentos técnicos referenciados |
| Acciones Avanzadas        | Menú contextual con duplicar, SAP, planos    |
| Operaciones               | Pestaña con listado de operaciones y campos  |
| Reporte / Presupuesto     | Pestaña con presupuesto y controles          |


# Comparativo Funcional: Órdenes de Trabajo (Necor@V6 Anterior vs. Nueva Aplicación)

Fecha de creación: \[DD/MM/AAAA\]

Versión: 1.1

Autores y Responsables: José Lago – Coordinación de Proyecto

Objetivo General: Definir las diferencias funcionales entre Necor@V6
(VB6) y la nueva plataforma, corrigiendo detalles detectados en la
revisión.

## Índice

1.  1\. Introducción

2.  2\. Metodología de Comparación

3.  3\. Descripción Funcional por Módulos

4.  3.1. Pantalla Principal / Grilla de Órdenes

5.  3.2. Formulario “Detalle” (Datos Generales)

6.  3.3. Pestaña “Consolidación” (Horas e Importes)

7.  3.4. Cambio de Estado (Flujo de Estados)

8.  3.5. Extracción de Informe / Exportación (PDF/Excel)

9.  3.6. Pestaña “Revisiones”

10. 3.7. Pestaña “Lista de Materiales”

11. 3.8. Pestaña “Referencias”

12. 3.9. Menú Contextual de Acciones Avanzadas

13. 3.10. Pestaña “Operaciones” y Consultas Relacionadas

14. 3.11. Pestaña “Reporte” y Gestión de Presupuesto

15. 3.12. Carga Masiva de Órdenes

16. 4\. Resumen de Brechas y Pendientes de Migración

17. 5\. Plan de Acción y Próximos Pasos

18. 6\. Anexos

## 1. Introducción

Contexto del Proyecto: La empresa migra la gestión de Órdenes de Trabajo
desde Necor@V6 (VB6) a la nueva plataforma consolidada.

Alcance del Documento: Contrastar funcionalidad de Necor@V6 con la nueva
aplicación, identificando brechas y validando migración completa.

Fuentes de Información: Análisis Funcional Necor@V6 y Análisis Funcional
NuevaApp. Revisión de vídeos y capturas de pantalla. Objetivo: Validar
presencia de todas las funcionalidades principales a nivel de negocio.

## 2. Metodología de Comparación

1\. Identificación de Módulos y Funcionalidades Clave: Basado en
estructura de ambas aplicaciones.

2\. Estructura de la Tabla de Comparación:

\- Funcionalidad / Campo

\- Descripción en Necor@V6 (App Anterior)

\- Descripción en la Nueva Aplicación

\- Estado de Migración (Migrado / Pendiente / Nuevo)

\- Observaciones / Comentarios

3\. Proceso de Revisión: Reunión con áreas de Desarrollo, QA y Negocio
para validar cada ítem.

## 3. Descripción Funcional por Módulos

### 3.1. Pantalla Principal / Grilla de Órdenes

| Funcionalidad / Campo | Necor@V6 (App Anterior) | Nueva Aplicación | Estado de Migración | Observaciones |
|----|----|----|----|----|
| Columnas de la grilla | Orden (ID OT), PDF (icono), Descripción, Revisión, Tipo, Tarea, Situación P/A, Grupo Cote, Estado, Centro Emisor, Centro Ejecutor, Plano L/M, Actividad, Partida, Precio Objetivo, % AV Plan, Grado de Definición, H.E. Previstas, H.E. Lanzadas, H.E. Consumidas | Orden, PDF, Descripción, Revisión, Tipo, Tarea, Situación P/A, Grupo Cote, Estado, Centro Emisor, Centro Ejecutor, Plano Origen, Actividad, Partida, Precio Objetivo, % AV Plan, Grado de Definición, H.E. Previstas, H.E. Lanzadas, H.E. Consumidas | Migrado | Se mantiene totalidad de columnas; se validó que “Plano Origen” renombrado como Plano L/M. |
| Filtrado / Búsqueda Rápida | Filtro por “Situación P/A”, barra de búsqueda por Descripción y Partida | Filtro por “Situación P/A”, “Revisión”, buscador por Descripción, Estado, Grupo | Migrado | Nuevo filtro por Revisión agregado. |
| Ordenamiento de Columnas | Reordenable por ID OT, Tipo, Obra | Reordenable por todos los encabezados, agrupar por Centros Emisor/Ejecutor | Migrado | Se agregó función de agrupación por Centros. |

### 3.2. Formulario “Detalle” (Datos Generales)

| Funcionalidad / Campo | Necor@V6 (App Anterior) | Nueva Aplicación | Estado de Migración | Observaciones |
|----|----|----|----|----|
| Establecimiento | Desplegable “Establecimiento” (ej. “2 – ASTILLERO FERROL”) | No aplica (se ingresa automáticamente desde usuario) | Migrado | Campo removido en UI; se asume contexto del usuario. |
| Obra | Desplegable “Obra” (ej. “0212 – F105”) | Mismo desplegable con vínculo a proyecto | Migrado |  |
| Centro Emisor / Centro Ejecutor | Campos separados con valores numéricos | Combina y autocompleta según Grupo Cote | Migrado | Validar consistencia de datos en migración. |
| Tipo Orden | Desplegable con códigos (B, G, etc.) | Desplegable con opciones ampliadas según perfil | Migrado | Confirmar que todos los valores históricos estén presentes. |
| Tarea | Desplegable / automática según plantilla | Asignación dinámica basada en Grupo Cote | Migrado |  |
| Sección / Grupo Cote | Campos editables manualmente | Autocompletan la descripción de Grupo Cote | Migrado |  |
| Zona / Bloque / Módulo | Tres desplegables independientes | Autocompletar “Zona” al seleccionar “Bloque” | Migrado |  |
| Prod. Intermedio | Selección múltiple (“TUB”) | Selección múltiple con búsqueda interna | Migrado |  |
| Descripción Corta / Larga | Campos de texto libre con mínimo validación | Validación de longitud y autocompletar en largo | Migrado |  |
| Situación P/A | Checkboxes “Aprobada”, “Realizada”, “Lanzada” | Reemplazado por desplegable “Situación P/A” con valores “Producción”, “Configuración”, “Bloqueada” | Migrado | Actualizar procedimientos de flujo de estado. |
| I.P.A. / Materiales | Checkbox I.P.A. y selección de Materiales básico | Checkbox con validación de stock en tiempo real | Migrado |  |
| Horas Presup. / Reales / H.E. Previstas / Lanzadas / Consumidas / Imputadas | Campos numéricos estáticos | Cálculo automático, validación de máximo, desglose en pestaña “Consolidación” | Migrado | Se renombró “Horas Presup.” a “Horas Presup. vs Real”. |
| Avance (%) | Calculado tras consolidar | Actualización en tiempo real al modificar horas | Migrado |  |
| Grado de Definición (%) | Valor numérico simple (“03”) | Tooltip explicativo y validación de rango | Migrado |  |
| Últimas Revisiones (Lanzada / Aprobada / Configuración) | Campos fecha solo lectura | Se registra historial en pestaña “Revisiones” | Migrado |  |
| Aviso de Revisión Pendiente | Señalización manual | Checkbox específico en “Revisiones” | Nuevo | Nuevo módulo “Revisiones”. |
| Cuenta / Partida de cargo | Campo libre o desplegable simple | Desplegable con validación de finanzas | Migrado |  |
| Av. Tasa (%) / Av. Pint (%) | No disponible en formulario principal | Mostrado en “Revisiones” | Migrado |  |
| Moneda | Desplegable básico (EUR, USD) | Integración con cotizaciones diarias | Migrado |  |
| Usuario Creador / Fecha Creación | Solo lectura | Incluye también “Usuario Modificador” y “Fecha Última Modificación” | Migrado |  |
| Responsable | Desplegable usuarios | Validación: no cambio si OT está cerrada | Migrado |  |
| Fecha Límite | Campo fecha sin validación de pasadas | Validación para evitar fechas previas | Migrado |  |
| Estado | Desplegable: BORRADOR, APROBADO, EN CURSO, CERRADO | Reemplazado por “Situación P/A” | Migrado | Verificar mapeo de estados antiguos. |
| Observaciones / Notas Internas | Campo texto libre | Permite adjuntar documentos (PDF, imágenes) | Migrado |  |

### 3.3. Pestaña “Consolidación” (Horas e Importes)

| Funcionalidad / Campo | Necor@V6 (App Anterior) | Nueva Aplicación | Estado de Migración | Observaciones |
|----|----|----|----|----|
| Horas reales imputadas | Actualización estática tras consolidar | Validación automática de máximo según Horas Previstas, calculo en tiempo real | Migrado |  |
| Horas presupuestadas (Objetivo) | Editable en consolidación | Renombrado como “Horas Presup. vs Real”, porcentaje desviación | Migrado |  |
| Importes (Horas Real / Consolidada) | Cálculo básico sobre tarifa recurso | Desglose por Cargo / Partida en pestaña “Reporte” | Migrado |  |
| Avance (actualización) | Porcentaje tras consolidar informe | Actualización en tiempo real tras operación | Migrado |  |
| Consolidación Masiva | Agrupa varias OTs en consolidación | Botón “Carga Masiva” con pre-filtro y validación de plantilla | Migrado |  |

### 3.4. Cambio de Estado (Flujo de Estados)

| Funcionalidad / Campo | Necor@V6 (App Anterior) | Nueva Aplicación | Estado de Migración | Observaciones |
|----|----|----|----|----|
| Botón “Cambio de situación” | Menú desplegable para nuevo estado; actualiza Fecha de Cierre | Desplegable “Situación P/A” permite cambio masivo y bloqueos | Migrado |  |
| Transición “Aprobado” → “En Curso” | Cambio manual desde formulario | Validación: solo Supervisor puede cambiar, restricción de roles | Migrado |  |
| Transición “En Curso” → “Cerrado” | Bloquea horas reales y presupuestarias | Validación de operaciones abiertas, bloqueo automático | Migrado |  |

### 3.5. Extracción de Informe / Exportación (PDF/Excel)

| Funcionalidad / Campo | Necor@V6 (App Anterior) | Nueva Aplicación | Estado de Migración | Observaciones |
|----|----|----|----|----|
| Botón “Generar Informe” | Descarga PDF/Excel resumen horas, estado e importes | Opción “Informe Resumido” o “Detalle”, formato unificado | Migrado |  |
| Reporte Consolidado de Presupuesto | No disponible | Pestaña “Reporte” con desglose Cargo / Partida, filtros y agrupaciones | Nuevo | Requiere formación a usuarios. |

### 3.6. Pestaña “Revisiones”

| Funcionalidad / Campo | Necor@V6 (App Anterior) | Nueva Aplicación | Estado de Migración | Observaciones |
|----|----|----|----|----|
| Pestaña “Revisiones” | No existía módulo específico | Campos I.P.A., Tipo Avance, Avances y checkboxes, historial de revisiones | Nuevo | Validar cumplimiento de auditoría. |

### 3.7. Pestaña “Lista de Materiales”

| Funcionalidad / Campo | Necor@V6 (App Anterior) | Nueva Aplicación | Estado de Migración | Observaciones |
|----|----|----|----|----|
| Pestaña “Lista de Materiales” | No documentada en app anterior | Tab con columnas: Material, Cantidad, Unidad, Ubicación, etc., con búsqueda | Nuevo | Definir columnas exactas. |

### 3.8. Pestaña “Referencias”

| Funcionalidad / Campo | Necor@V6 (App Anterior) | Nueva Aplicación | Estado de Migración | Observaciones |
|----|----|----|----|----|
| Submódulo “Referencias” | Listado básico de documentos técnicos | Modal con columnas: Obra, OT, PDF, G.D., Descripción Larga, FA/CRA, GDC, Bloque, Módulo, Zona, Sit, GIN, SitPA, U.R. Realiz., U.RevisPA, FFPressFin, FPenvProd | Migrado |  |
| Botones: “Buscar”, “Limpiar”, “Imprimir”, “Salir” | No aplica | Disponibles en modal de Referencias | Migrado |  |

### 3.9. Menú Contextual de Acciones Avanzadas

| Funcionalidad / Campo | Necor@V6 (App Anterior) | Nueva Aplicación | Estado de Migración | Observaciones |
|----|----|----|----|----|
| Menú “Acciones Avanzadas” | Cambio de situación masivo básico | Incluye: Cambio de Situación Masiva, Cambio a Producción, Tipo Avance, Duplicar OT, Envío a SAP, Crear desde Planos, Alta Productos/Entregar | Migrado |  |
| “Duplicar Órdenes” | No disponible | Duplica una o varias OTs seleccionadas | Nuevo |  |
| “Envío a SAP” | No disponible | Envía masivo a ERP SAP con validaciones | Nuevo | Coordinar con equipo SAP. |
| “Crear Órdenes desde Planos” | No disponible | Genera OTs a partir de planos cargados | Nuevo | Validar formatos de planos. |

### 3.10. Pestaña “Operaciones” y Consultas

| Funcionalidad / Campo | Necor@V6 (App Anterior) | Nueva Aplicación | Estado de Migración | Observaciones |
|----|----|----|----|----|
| Pestaña “Operaciones” | Gestión básica en consolidación | Listado de operaciones con columnas: Orden, Línea, Descripción, Revisión, Clave Valoración, Encargado, Avance Proveedor, Usuario Avance, Fecha Último Avance, Demanda, Línea Demanda | Migrado |  |
| Botones “Mantenimiento”, “Ponderar Opera”, “Utilidades” | No aplicable | Disponibles para editar y calcular datos de línea | Migrado |  |
| Consultas Complementarias | No disponible | Modal: Lista Materiales, Productos a Entregar, Errores Avance Automático | Migrado | Validar roles y permisos. |

### 3.11. Pestaña “Reporte” y Gestión de Presupuesto

| Funcionalidad / Campo | Necor@V6 (App Anterior) | Nueva Aplicación | Estado de Migración | Observaciones |
|----|----|----|----|----|
| Pestaña “Reporte” | No disponible | Tab con columnas: Cargo, Partida, Presupuesto, Presup Cargo, Presup Partida, Control Agrupación (Por Agrupación / Por Partida), Fecha Reparto | Nuevo |  |
| Menu “Consulta de Presupuesto” | No disponible | Modal con listado de partidas y agrupaciones | Nuevo |  |
| Checkboxes y Filtros | No disponible | Filtros: Presupuesto, Grado Definición, Órdenes bloqueadas, Reparto sin Bloquear | Nuevo |  |
| Botones rápidos: F7, F10, F9 | No disponible | F7 Carga OOTT, F10 Importa OOTT, F9 Liberar Presupuesto | Nuevo |  |

### 3.12. Carga Masiva de Órdenes

| Funcionalidad / Campo | Necor@V6 (App Anterior) | Nueva Aplicación | Estado de Migración | Observaciones |
|----|----|----|----|----|
| Carga Masiva de OTs | Consolidación masiva básica | Carga de archivos Excel/CSV con validación al vuelo | Migrado | Definir guía de plantilla. |

## 4. Resumen de Brechas y Pendientes de Migración

- Verificar mapeo de estados “Situación” vs “Situación P/A”.

- Validar campos de “Revisiones” conforme a auditoría.

- Definir columnas exactas en “Lista de Materiales”.

- Probar integración “Envío a SAP” y coordinar con ERP.

- Validar mapeo “Cargo”/“Partida” en reporte.

- Documentar y validar plantilla de “Carga Masiva”.

- Planificar formación de nuevos módulos.

## 5. Plan de Acción y Próximos Pasos

19. Asignar responsables a cada brecha con fechas límite.

20. Programar pruebas de validación de cada módulo.

21. Actualizar documentación de usuario y guías.

22. Revisar con área SAP las pruebas de envío masivo.

23. Realizar sesión de formación para usuarios finales.

24. Agendar reunión de cierre de brechas.

## 6. Anexos

1\. Capturas Principales: Se incluyen en documento de diapositiva A3.

2\. Glosario de Términos: OT, I.P.A., Cargo, Partida.

3\. Tabla Maestra de Campos: En hoja de cálculo adjunta.


ÍNDICE

# 1. Objeto del documento 

El presente documento tiene como objetivo describir el estado
tecnológico actual de la plataforma de bases de datos de Navantia. Esto
incluye un análisis detallado de componentes clave como NecoraNet, PRYC,
las instancias de SQL Server 2017-2022, los servicios IIS (MASERVF9) y
sus integraciones con SAP. Para ello, se llevará a cabo un inventario
exhaustivo que abarque servidores, instancias, bases de datos, enlaces y
flujos ETL.

La información recopilada se consolidará a partir de actas de proyecto,
tickets GLPI y seguimientos de dedicación hasta mayo de 2025,
proporcionando así una visión única, trazable y homologada que será de
utilidad para los equipos de DBA y la auditoría interna.

El resultado de este análisis servirá como línea base para el soporte
operativo diario y para la planificación de futuras optimizaciones o
migraciones, incluyendo Azure SQL MI, RISE with SAP, nuevos flujos ETL,
así como la migración progresiva a SQL Server 2022 y versiones
posteriores.

# 2. Descripción del sistema actual 

> <img src="media/image2.jpg" style="width:8.13681in;height:5.02083in" />

La arquitectura actual de bases de datos de Navantia, ilustrada en el
esquema proporcionado, presenta un ecosistema estructurado en instancias
de SQL Server. Estas instancias están distribuidas según su función y
ámbito geográfico, formando agrupaciones que representan entornos
lógicos orientados a servicios específicos, tales como producción,
catálogo, integración y almacenamiento histórico.

Los principales elementos son:

## 2.1. Núcleo HOSTDB2 (<sub>MASQL20171\HOSTDB2</sub>)

Esta instancia alberga las bases de datos **V6**, **V6_2** y **DB2P**,
herederas del entorno z/OS. HOSTDB2 centraliza información histórica
migrada desde el sistema HOST, actuando como fuente para múltiples
réplicas hacia otras instancias. Se alimenta mediante copias de
seguridad y mantiene relaciones directas con bases de datos de catálogo
y explotación, asegurando la integridad y disponibilidad de la
información histórica crítica.

# **2.2. Plataforma Necor@ clásica (<sub>MASQL20142\SQL20142</sub>)**

Esta plataforma agrupa la base de datos **Necor@NC**, utilizada por
aplicaciones legadas como ECADAT y para la integración con **SAP** en la
gestión de hojas de catálogo y materiales. Su función principal es
servir como punto de entrada para datos técnicos (materiales,
ingeniería), que posteriormente se redistribuyen a otras instancias,
facilitando la interoperabilidad y el flujo de información entre
sistemas.

# **2.3. Plataforma Necor@ extendida (<sub>MASQL20142\NECORANET</sub>)**

Este entorno funcional de AWD incluye bases de datos como
**NecoraDocAWD**, **InterfacesAWD_PEC**,

**Necor@AWD** y **NAI_InterfacesAWD**. Además, incorpora el servidor de
informes

**REPORTSERVERSNECORANET**, que explota datos de todas las bases
anteriores e integra herramientas como Power BI y otras soluciones
internas. Desde esta instancia, se consolidan datos provenientes de
otras instancias a través del objeto **PDB**, que actúa como origen
común para clientes satélites y operaciones cruzadas, optimizando la
gestión y análisis de datos.

### **2.4. Clientes internacionales (SQL Server 2022)**

Las instancias **MASQL20221\SQLTURK** y **MASQL20221\SQLNORWAY** están
diseñadas específicamente para los contratos de Turquía y Noruega,
respectivamente, y albergan la base de datos **Necor@AWD**. Ambas
instancias consumen datos del objeto **PDB** y cuentan con procesos ETL
para la replicación, validación y extracción específica por proyecto.
Cada una de estas instancias opera de manera sincronizada gracias a
enlaces definidos, que incluyen copias de seguridad, servicios ETL y
replicaciones manuales, lo que permite mantener la consistencia y
trazabilidad de los datos. Este diseño modular refleja una arquitectura
evolutiva orientada a clientes distribuidos, aislando entornos según su
uso y país, y asegurando la adaptabilidad a requisitos locales.

### **2.5. Servicios intermedios (MASERVF9)**

## El servidor IIS 10, configurado como pasarela de integración entre SAP PO y SQL Server, actúa como intermediario en la comunicación de datos. Expone **Web Services REST/SOAP** que permiten a SAP consultar datos de materiales y recibir confirmaciones de manera segura. Se comunica directamente con HOSTDB2.V6 a través de ODBC y opera en un puerto fijo (58898), controlado por un firewall y validado por el departamento de Ciberseguridad. 

## MASERVF9 es el host Windows Server 2019 (10.100.161.76) que reemplaza al antiguo **MANECNET** como punto único de integración SOAP entre SAP PO y Necor@. Desde noviembre de 2024, aloja: 

## **Web Service NecoraWebIntegrator.svc** — expuesto en IIS 10, puerto 80.

## Carpetas de intercambio **NecoraSAP\Request\|Response** con permisos NTFS equivalentes a los de 

> MANECNET.

## Cliente SQL Native 11 para conectividad con **MASQL20171\HOSTDB2**.

- Agente de monitorización Centreon (plantilla *IIS 10*).  Repositorio
  de archivos de ingeniería y producción.

## Este servidor concentra ahora los flujos M-AT (*SetInfoMateriales*) y Login, que sincronizan el material maestro entre SAP y la base **V6**. Su consolidación elimina dependencias de hardware obsoleto y simplifica la matriz del firewall corporativo, mejorando la eficiencia operativa y la seguridad de las comunicaciones. 

.

### **2.6. Flujos de carga y extracción**

El sistema de bases de datos de Navantia incorpora una serie de
**paquetes SSIS** (SQL Server Integration Services), **planificaciones
de SQL Server Agent** y validaciones CRC (Control de Redundancia
Cíclica) que aseguran la integridad en cada operación de lectura, carga
o replicación de datos. Estos flujos están cuidadosamente definidos
según el país, cliente y uso funcional, abarcando tareas como la
generación de informes, procesos ETL nocturnos y la sincronización de
catálogos.

Cada flujo es auditado mediante registros detallados (logs) y
comprobaciones periódicas, lo que permite una supervisión continua y la
capacidad de identificar y resolver rápidamente cualquier anomalía que
pueda surgir.

## El modelo de datos actual se caracteriza por su arquitectura **modular, desacoplada y orientada al cliente**. Esta estructura permite la existencia de instancias dedicadas por función, país o sistema fuente, lo que garantiza una trazabilidad completa desde el origen en SAP hasta la entrega final en Necor@. Esta orientación modular no solo facilita la gestión y el mantenimiento del sistema, sino que también asegura que las necesidades específicas de cada cliente y región sean atendidas de manera eficiente y efectiva.

# 3. Detalle técnico por servidor/instancia 

## 3.1. MASQL20171\HOSTDB2

La instancia MASQL20171\HOSTDB2 funciona como el **nodo central de
consolidación** tras el apagado del entorno HOST (DB2/VSAM).
Implementada sobre SQL Server 2017 CU31, concentra todas las bases de
datos migradas desde el ecosistema mainframe, así como los esquemas
técnicos heredados de instancias auxiliares como FESRV014 y MAHOST.

### 3.1.1. Características generales

**Rol:** Nodo central de consolidación tras el apagado del entorno HOST
(DB2/VSAM) **Versión:** SQL Server 2017 CU31.

**Bases de datos:** V6, V6_2, DB2T, DB2P **Conexiones entrantes:**

- MASERVF9 (vía ODBC desde IIS/WebService) o MASQL20142\NECORANET
  (lectura cruzada) o Objeto PDB (consulta y consolidación de datos)

**Conexiones salientes:** Réplicas parciales y flujos ETL hacia
NecoraNet, SQLTURK y SQLNORWAY.

**Parámetros relevantes:**

- Puerto TCP fijo 58898 (asignado en nov. 2024, validado por
  Ciberseguridad) o Compresión de datos tipo ROW

- Collation: SQL_Latin1_General_CP1_CI_AS

**Cambios recientes:** Generación de la copia V6_2.

Esta instancia proporciona datos operativos y documentales a múltiples
servicios de negocio, incluyendo SAP, Necor@NET y reporting externo. Los
procesos de carga, validación e indexado están diseñados para garantizar
estabilidad, trazabilidad y rendimiento.

### 3.1.2. Contenido migrado

MASQL20171\HOSTDB2 almacena la información consolidada desde tres
orígenes principales:

<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 31%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;"><blockquote>
<p><strong>Origen</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Destino en SQL Server</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Descripción</strong></p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">HOST DB2</th>
<th style="text-align: left;"><blockquote>
<p>DB2T / DB2P</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Copia exacta de tablas fuente dentro del alcance. Carga vía paquete
MoveDataDB2ToSQLServer.</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">FESRV014</th>
<th><blockquote>
<p>HOSTDB2 (diversos esquemas)</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Bases de datos ControlDoc, ControlAsuntos, etc. Job:
MoveAppAuxToNewNecor@.</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">MAHOST</th>
<th style="text-align: left;"><blockquote>
<p>HOSTDB2.DB2T (esquema a esquema)</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Bases DBFERR, DBCART, DBMADR, DBSFER. Job:
PackageMAHOST_a_DB2T.dtsx.</p>
</blockquote></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

### 3.1.3. V6 y creación de V6_2

La base de datos V6 contiene los datos de **Necor@V6** tras la
migración. Durante el proceso, se detectó que algunas vistas aplicaban
filtros que impedían consultar el histórico completo desde Necor@. Para
solucionarlo:

- Se creó la base V6_2, réplica exacta de V6 sin filtros de migración.

- Se generaron nuevas vistas \_V sobre V6_2.

- Se reemplazaron los sinónimos en V6 para que apunten a estas vistas no
  filtradas.

- Las vistas originales se renombraron como \_BKP para permitir
  comparativas de rendimiento.

- Se reforzaron índices en tablas clave (BO12SQ, BO59SQ, BO80SQ, etc.) y
  se revisaron procedimientos (PR_NC_CONSULTA_OPERACIONES, etc.).

Esta estrategia permite que **Necor@V6 acceda al histórico completo sin
afectar al código existente**, manteniendo la trazabilidad y cumpliendo
requerimientos funcionales de Ingeniería y Auditoría.

.

### 3.1.4. Antecedentes del proyecto HOST

El proyecto HOST se concibió como una iniciativa de migración y
mantenimiento de los sistemas legacy (DB2/VSAM), gestionándose bajo un
modelo mixto que combina soporte y transferencia de conocimiento. En
colaboración con Altia Consultores, se llevaron a cabo tareas de
mantenimiento correctivo y adaptativo, así como procesos de migración
escalonada.

Esta colaboración se alineó con las prácticas ITIL y los estándares
ISO/IEC 20000, estableciendo una infraestructura de servicio que incluyó
indicadores de calidad (SLA), herramientas de gestión, dedicación de
recursos y mecanismos de seguimiento tanto semanal como mensual. Además,
se garantizó una cobertura integral sobre aplicaciones críticas (Necora,
Coral, ControlDoc, Brion, entre otras) mediante soporte de tercer nivel
y supervisión de procesos en explotación.

El acuerdo contemplaba una planificación detallada de proyectos,
atención 24x7 para casos críticos y controles de calidad periódicos. Se
documentaron procedimientos para el análisis y resolución de incidentes,
gestión de problemas y planificación de desarrollos, lo que permitió
asegurar la continuidad del servicio durante la migración al entorno SQL
Server (MASQL20171\HOSTDB2) sin pérdida de operatividad.

El proyecto de migración HOST se inició el **12 de septiembre de 2019**
y se estructuró en dos fases:

- **Fase I – Migración técnica:** de septiembre de 2019 a julio de 2020.

- **Fase II – Soporte y cierre definitivo:** de julio a diciembre de
  2020.

**Objetivos del proyecto:**

- Eliminar el sistema HOST (z/OS + DB2 + VSAM).

- Garantizar la continuidad operativa en Necor@NET y PRYC.

- Mantener los interfaces activos con clientes externos.

- Migrar la información documental y estructural a un entorno soportado
  (SQL Server 2017).

**Logros y aspectos técnicos:**

- Más de **30 tablas y 4 ficheros VSAM** migrados utilizando IBM
  DataUnload.

- Pruebas de carga realizadas en el entorno staging (FESRV053) y New
  PRYC.

- Validación funcional con la obra 7564 (Turbinas) como proyecto piloto.

- Generación de documentación de procesos y reglas de negocio aplicadas
  a interfaces AWD.  Integración de cargas documentales desde
  Windchill.

**Riesgos abordados:**

- No disponibilidad del entorno HOST de desarrollo.

- Falta de programas COBOL (por ejemplo, PE46FV).

- Ausencia de estimación de tamaños de bases de datos debido a retrasos
  con VSAM.

- Problemas de permisos y catálogo con IBM.

- Recursos técnicos limitados (servidores, estaciones de trabajo,
  permisos).

**Participantes clave:**

**Área Personal asignado**

> Migración de datos DB2 Navantia: F. Amor, A. Rodríguez · Altia: J.R.
> Tubío, D. Vega, J. Díaz
>
> Interfaces Externos Navantia: Y. Castiñeira, F. Bordello · Altia:
> mismos Obra de Turbinas Navantia: F. Bordello · Altia: D. Vega

**Fechas clave:**

- Fin de migración técnica: **15 de julio de 2020**.

- Cierre del entorno HOST: **31 de diciembre de 2020**.

- Desactivación de IBM y licencias: **Q4 2020**.

<img src="media/image3.jpg" style="width:6.33819in;height:1.39583in" />

### 3.1.5. Interfaces SSIS en entorno HOST consolidado (AWD/ALHD)

En el marco del proyecto de migración del entorno HOST, se definieron y
desplegaron múltiples paquetes SSIS bajo la codificación
INTERFACES_AWD_ALHD_SSIS. Estos paquetes están orientados a la
integración y consolidación de datos técnicos, documentos y órdenes
asociadas a los sistemas heredados, facilitando la automatización de
tareas críticas.

> **(a) Funciones de los Paquetes SSIS**

Los paquetes SSIS permiten la automatización de las siguientes tareas
críticas:

- **Extracción y limpieza de datos:** Utilizando paquetes como
  \_AtributosConfig.dtsx y \_LimpiarLogs.dtsx, se asegura la integridad
  y calidad de los datos extraídos.

- **Actualización de estados en tablas funcionales:** El paquete
  \_StatusDeleted.dtsx gestiona la actualización de estados, asegurando
  que las tablas reflejen el estado actual de los registros.

- **Consolidación de documentos técnicos:** Paquetes como
  Documentos_tecnicos\_\*.dtsx consolidan documentos técnicos,
  garantizando que toda la información relevante esté centralizada y
  accesible.

- **Gestión documental completa:** Los paquetes
  Gestion_Documental\_\*.dtsx abarcan revisiones, anexos, secciones y
  ficheros, proporcionando una gestión integral de los documentos.

- **Interfaces con MEL y materiales:** Los paquetes MEL_LME\_\*.dtsx
  facilitan la integración con sistemas de materiales, asegurando que
  los datos estén alineados con los requerimientos técnicos.

- **Interfaces con el entorno EEA5:** Paquetes como EEA5.dtsx y
  EEA5_DB2.dtsx permiten la comunicación y sincronización con el entorno
  EEA5, asegurando que los datos sean consistentes y actualizados.

> **(b) Características Técnicas**

Los scripts SSIS incluyen lógica avanzada para:

- **Detección de registros huérfanos:** Identificación y manejo de
  registros que no tienen correspondencia en otras tablas, asegurando la
  integridad referencial.

- **Actualizaciones incrementales:** Implementación de actualizaciones
  que solo afectan a los registros modificados, optimizando el
  rendimiento y reduciendo la carga del sistema.

- **Verificación de consistencia:** Uso de checksum para asegurar que
  los campos clave mantienen su consistencia, evitando discrepancias en
  los datos.

- **Limpieza de registros obsoletos:** Eliminación de registros con
  estado status = 'DELETED', asegurando que la base de datos no acumule
  información innecesaria.

Además, se emplea el objeto UpdateNotice como mecanismo de auditoría de
ejecución para los procesos de carga diarios, proporcionando un registro
detallado de las operaciones realizadas y facilitando el seguimiento y
control de las mismas.

## 3.2. MASQL20142\SQL20142 – (MASQL20222)

Instancia **SQL Server 2014 SP3** que sostiene el núcleo histórico de
*Necor@NC*. Aunque se planificó su retirada junto con el resto de
plataformas *legacy*, continúa en producción porque varios módulos de
ingeniería siguen dependiendo de esquemas y rutinas específicas que aún
no se han portado a versiones superiores.

### 3.2.1. Características generales

**Rol:** Plataforma Necor@NC (entorno legado).

**Versión:** SQL Server 2014 SP3.

**Bases de datos:** Necor@NC.

**Conexiones entrantes:** ECADAT, SAP (vía interfaces HojasCatálogo).

**Conexiones salientes:** HOSTDB2 y NECORANET para consolidación.

**Parámetros relevantes:** Puerto dinámico, sin integración AD,
collation por defecto. **Cambios recientes:** — Información no
disponible.

### 3.2.2. Contexto y dependencias

## La instancia alberga exclusivamente la base de datos Necor@NC, empleada por los módulos de ingeniería y aplicaciones internas como ECADAT. Su integración con SAP se limita a las operaciones de catálogo de materiales mediante HojasCatálogo. Los enlaces externos son reducidos; la transferencia principal se dirige a **NECORANET** para consolidación de datos.

Pese a su carácter legacy, la plataforma continúa operativa mientras
persistan las dependencias funcionales de los módulos de ingeniería. Su
retirada definitiva está condicionada a la migración completa de dichos
esquemas y rutinas a versiones superiores de SQL Server.

## 3.3. MASQL20142\NECORANET – (MASQL20222)

Instancia SQL Server 2017 CU22 que funciona como plataforma funcional
AWD y capa de informes para el ecosistema Necor@AWD. Su diseño soporta
tanto la gestión documental como los flujos técnicos y la explotación de
datos, con un modelo de trabajo dual que facilita la gestión interna y
la distribución internacional de información.

### 3.3.1. Características generales

- **Rol:** Plataforma funcional AWD y capa de informes.

- **Versión:** SQL Server 2017 CU22.

- **Bases de datos:** Necor@AWD, InterfacesAWD_PEC, NAI_InterfacesAWD,
  NecoraDocAWD.

- **Conexiones entrantes:** SQL20142, HOSTDB2, PDB, usuarios BO.

- **Conexiones salientes:** SQLTURK, SQLNORWAY, ReportServer.

- **Parámetros relevantes:** Memoria fija asignada (32 GB), estadísticas
  automáticas activadas, jobs de mantenimiento semanales.

- **Cambios recientes:** o Optimización de vistas y reestructuración de
  Interfaces PEC (junio–julio 2020). o Implantación de auditoría interna
  mediante tabla log \_Audit_Changes. o Normalización de estructuras
  para compatibilidad internacional.

### 3.3.2. Contexto y dependencias

Esta instancia se emplea principalmente para la gestión y explotación
funcional dentro del entorno Necor@AWD, cubriendo diversos ámbitos:
gestión documental (NecoraDocAWD), procesamiento de flujos técnicos
(InterfacesAWD_PEC, NAI_InterfacesAWD) y explotación de datos
(Necor@AWD).

Además, aloja el servidor de informes REPORTSERVERSNECORANET, que
facilita la publicación de dashboards y consultas externas. También
integra el objeto PDB, que centraliza y consolida información de
múltiples fuentes para su distribución a instancias internacionales.

El modelo operativo se basa en una dualidad entre la gestión interna de
datos y la preparación de flujos estructurados hacia entornos remotos
(SQLTURK y SQLNORWAY), a través del objeto PDB que actúa como puente
lógico. Este diseño asegura la coherencia estructural y minimiza el
acoplamiento entre esquemas, facilitando la interoperabilidad con
clientes internacionales.

En 2020 se llevó a cabo un proceso de optimización orientado a mejorar
el rendimiento, reorganizando vistas y creando sinónimos funcionales.
Asimismo, se implementó un sistema de auditoría a nivel de registros
para reforzar la trazabilidad.

- **InterfacesAWD_PEC:** Utilizada como puente para el traspaso de
  información entre sistemas.

- **NAI_InterfacesAWD:** Base de datos intermedia que centraliza datos
  de origen para su derivación hacia instancias externas.

## 3.4. MASQL20221\SQLTURK 

Instancia SQL Server 2022 CU8 dedicada a la gestión de contratos
específicos para Turquía, operando de forma autónoma dentro del
ecosistema Necor@AWD para garantizar segregación funcional y geográfica.

### 3.4.1. Características generales

- **Rol:** Instancia internacional dedicada a contratos Turquía.

- **Versión:** SQL Server 2022 CU8.

- **Bases de datos:** Necor@AWD.

- **Conexiones entrantes:** Réplicas desde PDB (NECORANET).

- **Conexiones salientes:** Flujos ETL hacia cliente, reporting
  específico.

- **Parámetros relevantes:** Compresión de columnas, alertas
  personalizadas SQL Agent.

- **Cambios recientes:** o Despliegue inicial y validación funcional
  completada (2025Q1). o Implementación de ETL segregado por región. o
  Control de errores y lógica de CRC en flujos nocturnos.

### 3.4.2. Contexto y dependencias

Esta instancia está destinada exclusivamente a la gestión y explotación
de datos relacionados con contratos de Turquía, integrando su propia
copia de Necor@AWD para operar con independencia y garantizar la
seguridad y el aislamiento requerido.

La alimentación de datos se realiza mediante flujos ETL diarios que
replican información desde el objeto PDB alojado en NECORANET. Los
procesos incorporan validaciones de integridad basadas en CRC (Control
de Redundancia Cíclica), junto con mecanismos personalizados de
trazabilidad y notificación para la detección y gestión de errores.

El diseño de esta instancia persigue asegurar la segregación funcional y
geográfica, respondiendo a los requerimientos contractuales en materia
de aislamiento de datos, soporte técnico y control de accesos.

Actualmente, la base de datos que alimenta el PDB de Turquía está en
fase de migración, con vistas al apagado progresivo de la instancia
legacy MASQL2014\SQLTURK.

## 3.5. MASQL20221\SQLNORWAY

Instancia SQL Server 2022 CU8 orientada a la gestión y soporte de
proyectos en Noruega, diseñada para operar con independencia mediante
réplicas desde el PDB general.

### 3.5.1. Características generales

- **Rol:** Instancia internacional para proyectos Noruega.

- **Versión:** SQL Server 2022 CU8.

- **Bases de datos:** Necor@AWD.

- **Conexiones entrantes:** Réplicas desde PDB.

- **Conexiones salientes:** Power BI Service, validación en Azure VDI.

- **Parámetros relevantes:** Configuración híbrida con prevalidación CRC
  y staging.

- **Cambios recientes:**

  - Flujo ETL activo desde abril 2024, con carga de 2.1 millones de
    registros en 35 minutos.

  - Estrategia de validación cruzada de claves y agrupadores desde
    Coral. o Consola de trazabilidad de cargas entregada a
    Reporting/Navantia en mayo 2025.

### 3.5.2. Contexto y dependencias

Esta instancia, basada en SQL Server 2022, da soporte a proyectos
desplegados en Noruega y contiene su propia versión de Necor@AWD.
Replica los datos de forma independiente desde el PDB general,
asegurando autonomía y seguridad en la gestión de información.

El flujo ETL, pionero en validación completa, incorpora trazabilidad
end-to-end desde las fuentes Coral hasta la explotación en Power BI,
pasando por etapas de staging, validación y carga incremental.

Los procesos diarios están optimizados para manejar grandes volúmenes de
datos —más de 2 millones de registros por carga— con tiempos inferiores
a 40 minutos. El entorno dispone de alertas y logs que permiten
monitorizar el estado de sincronización, errores y métricas clave.

Esta instancia es un referente técnico para futuros despliegues en
entornos similares, demostrando la viabilidad de operaciones con
réplicas distribuidas, controladas y auditables.

Actualmente, la base de datos que alimenta el PDB de Noruega está en
fase de migración, en preparación para el apagado gradual de la
instancia legacy MASQL2014\SQLNORWAY.

## 3.6. MASERVF9 – (Antiguo MANECNET)

Servidor Windows Server 2019 con IIS 10 y .NET Framework 4.8 que cumple
una doble función crítica dentro del ecosistema Necor@: actúa como
pasarela de integración entre SAP PO y las bases de datos de Navantia, y
como servidor documental que almacena los ficheros físicos del sistema
de Gestión Documental.

### 3.6.1. Características generales

<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr>
<th style="text-align: left;"><blockquote>
<p><strong>Elemento</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Valor</strong></p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p><strong>FQDN / IP</strong></p>
</blockquote></th>
<th style="text-align: left;">maservf9.izar.es / 10.100.161.76</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p><strong>OS / Build</strong></p>
</blockquote></th>
<th style="text-align: left;">Windows Server 2019 Std 10.0.17763</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p><strong>IIS / .NET</strong></p>
</blockquote></th>
<th style="text-align: left;">IIS 10 + .NET Framework 4.8</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p><strong>Aplicación</strong></p>
</blockquote></th>
<th style="text-align: left;">NecoraWebIntegrator.svc (SOAP 1.2 &amp;
REST: Login + SetInfoMateriales)</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p><strong>Entrantes</strong></p>
</blockquote></th>
<th style="text-align: left;">SAP PO → HTTPS + BasicAuth</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p><strong>Salientes</strong></p>
</blockquote></th>
<th style="text-align: left;">ODBC fijo → MASQL20171\HOSTDB2 (puerto
1452)</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p><strong>Seguridad</strong></p>
</blockquote></th>
<th style="text-align: left;">TLS 1.2 activo · Certificado Let’s Encrypt
· Token BasicAuth anual</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p><strong>Timeouts</strong></p>
</blockquote></th>
<th style="text-align: left;">HTTP 90 s · ODBC 30 s</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p><strong>Backups</strong></p>
</blockquote></th>
<th style="text-align: left;">Veeam Agent diarios (02:30 UTC) →
NAS-P9</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p><strong>Migración</strong></p>
</blockquote></th>
<th style="text-align: left;">Clonado MANECNET → go-live
08-ene-2025</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

### 3.6.2. Funciones y contexto

- **Integración:** Hospeda el WebService NecoraMQ
  (NecoraWebIntegrator.svc), que expone operaciones SOAP y REST para
  consulta y validación de materiales, órdenes y hojas de catálogo. Las
  peticiones se comunican con HOSTDB2 vía ODBC configurado con puerto
  TCP fijo 1452, garantizando seguridad mediante TLS 1.2 y autenticación
  por token renovable anualmente.

- **Gestión documental:** Mantiene el almacén físico de documentos
  digitales (PDFs, hojas técnicas, planos) usados por aplicaciones
  Necor@AWD, Necor@NC y otras, compartidos vía SMB para acceso interno.

- **Migración:** Resultado de la migración parcial desde el antiguo
  servidor MANECNET, apagado en octubre de 2024. Se trasladaron
  únicamente componentes documentales y servicios de integración,
  descartando la migración completa de Necor@V6.

3.6.3. Cronología de migración y normalización

<img src="media/image1.jpg" style="width:7.18472in;height:1.78403in" />

Figura 3.6-2 presenta la cronología del proceso de migración desde
MANECNET a MASERVF9 y la estabilización del flujo de materiales, que se
desarrolló entre el 23 de octubre de 2024 y el 8 de enero de 2025.

### 3.6.4. Incidencias y acciones correctivas principales

<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 29%" />
<col style="width: 26%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;"><blockquote>
<p><strong>Ticket / Fecha</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Descripción</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Acción ejecutada</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Resultado</strong></p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">GLPI #849716 – 08nov-2024</th>
<th style="text-align: left;"><blockquote>
<p>SAP deja de notificar cambios de materiales</p>
</blockquote></th>
<th style="text-align: left;"><p>Análisis raíz: parada de</p>
<p>MANECNET</p></th>
<th style="text-align: left;"><blockquote>
<p>Migración decidida a</p>
<p>MASERVF9</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: center;"><blockquote>
<p><strong>Ticket / Fecha</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Descripción</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Acción ejecutada</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Resultado</strong></p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">GLPI #856409 – 26nov-2024</th>
<th style="text-align: left;"><blockquote>
<p>Timeout MASERVF9 →</p>
<p>HOSTDB2</p>
</blockquote></th>
<th style="text-align: left;">Fijar puerto SQL en 1452 y reiniciar
DSN</th>
<th style="text-align: left;"><blockquote>
<p>Conectividad restablecida 27-nov</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">GLPI #857752 – 29nov-2024</th>
<th style="text-align: left;"><blockquote>
<p>Access Denied desde SAP PO</p>
<p>(P9P)</p>
</blockquote></th>
<th style="text-align: left;">Apertura reglas FW y validación
SOAP-UI</th>
<th style="text-align: left;"><blockquote>
<p>Error 500 resuelto 13dic</p>
</blockquote></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

### 3.6.5. Lecciones aprendidas y recomendaciones

- Documentar exhaustivamente las dependencias de puertos SQL, evitando
  asignaciones dinámicas.

- Validar cambios en entornos espejo o pre-producción antes de
  desactivar sistemas legados.

- Automatizar pruebas E2E (SOAP-UI CLI + SQL ping) tras cada
  modificación infraestructural.

- Configurar alertas Centreon para códigos HTTP 5xx en el servicio
  NecoraWebIntegrator.

# 4. Arquitectura funcional del flujo F100 

<img src="media/image5.jpg" style="width:9.39375in;height:4.075in" />

El flujo funcional denominado **F100** constituye el núcleo del proceso
de **carga estructurada de datos de obras** en el ecosistema de bases de
datos de Navantia. Esta arquitectura permite la integración coordinada
de información procedente de **SAP, ECADAT y sistemas legados
(DB2/VSAM)** hacia las bases de datos funcionales del entorno AWD,
aplicando reglas de negocio, validaciones y consolidación por país o
cliente final.

El esquema general de F100 está compuesto por las siguientes fases y
componentes:

## 4.1. Origen de datos

Los datos de obra se generan en distintos sistemas fuente:

- **SAP**: estructura técnica y materiales asociados.

- **ECADAT**: catálogos de elementos constructivos.

- **DB2/VSAM** y **Necora Negro**: datos heredados, consolidados en
  Mirror DB2/SAM para compatibilidad.

Estos datos se integran inicialmente en bases intermedias como New PRYC,
PRYC, GDoc o Necor@ECADAT.

## 4.2. Interfaces de carga principales

Las dos cargas operativas clave son:

<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 44%" />
<col style="width: 41%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;"><blockquote>
<p><strong>Job</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Instancia</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Descripción</strong></p>
</blockquote></th>
</tr>
<tr>
<th><blockquote>
<p><strong>Job 21: Carga</strong></p>
</blockquote></th>
<th><blockquote>
<p>MASQL20142\NECORANET.InterfacesAWD_PEC</p>
</blockquote></th>
<th><blockquote>
<p>Integra información desde SAP, ECADAT y PRYC. Aplica validaciones
iniciales.</p>
</blockquote></th>
</tr>
<tr>
<th><blockquote>
<p><strong>Job 22: Carga</strong></p>
</blockquote></th>
<th style="text-align: left;">NAILInterfacesAWD</th>
<th><blockquote>
<p>Permite mantener consistencia en el modelo</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: center;"><blockquote>
<p><strong>Job</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Instancia</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Descripción</strong></p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;"><strong>Nail PEC</strong></th>
<th style="text-align: left;"></th>
<th style="text-align: left;"><blockquote>
<p>PEC, especializado para entornos AWD.</p>
</blockquote></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

Ambos jobs están planificados como procesos automáticos, bajo SQL Agent,
con control de errores y trazabilidad mediante logs.

## 4.3. Reglas de negocio y transformación

Previo al volcado en bases finales, los datos pasan por un proceso de
validación y enriquecimiento definido como “**MD. Aplica Reglas de
Negocio**”, que se ejecuta en:

- MASQL2014\SQLTURK (Turquía)

- NORUEGAS (Noruega)

- AWD V 1.0 y AWD V 2.0 (clientes internos y externos)

Estas reglas comprueban la consistencia estructural, claves maestras,
relaciones válidas y codificación de campos técnicos. En el esquema se
identifican claramente los puntos donde se aplican dichas reglas en rojo
(“Aplica Reglas de Negocio AWD”).

## 4.4. Consolidación y publicación de datos

El objeto **PDB** actúa como **centro de consolidación lógico**,
recogiendo la información filtrada y estructurada desde Interfaces
HOST_AWD_PEC y Necor@Net. Desde este punto, se redistribuye a los
entornos de destino:

- InterfacesAWD

- InterfacesAWD.EEA5

- FESRVAD02.ESS

- MA SQL20221\SQLTURK y \SQLNORWAY

Estas instancias están diseñadas para soportar entornos funcionales,
pruebas, publicaciones a clientes externos o acceso desde plataformas
como Power BI.

### 4.4.1. Integración ampliada del modelo funcional – Foran \<-\> Windchill \<-\> SAP

Dentro del modelo operativo ampliado para entornos de Ingeniería, se ha
establecido una arquitectura de integración funcional entre los sistemas
Foran, Windchill y SAP. Esta arquitectura automatiza la conversión,
vinculación y sincronización de las estructuras de producto (EBOM/MBOM),
documentos técnicos y órdenes planificadas, facilitando la trazabilidad
y coherencia en todo el ciclo de vida del producto.

El flujo se articula en torno a los siguientes conceptos clave:

- **EBOM (Design View) y MBOM (Manufacturing View):** Generadas desde
  los módulos de Foran (FBUILDS, FDESIGN, FSYSD, FNEST), representan
  respectivamente la estructura de diseño y fabricación del producto.

- **Documentos IDD/IP:** Creación, gestión y aprobación dentro de
  Windchill, con trazabilidad detallada de revisiones y estados.

- **Publicación y vinculación automática:** Los materiales y documentos
  se publican desde Foran hacia Windchill, y posteriormente se
  sincronizan con SAP, garantizando la consistencia de la información.

- **Estructuras de planificación y órdenes previsionales:** Se
  transfieren a SAP (etapas OPrev1, OPrev2, OP1–OP6) para su ejecución y
  control en planta.

Además, el modelo incluye:

- **Reglas de conversión:** Adaptadas a cada producto y tipo documental,
  para asegurar la correcta transformación y mapeo entre sistemas.

- **Mecanismos de verificación:** Procesos ESI y MRP integrados en el
  momento de la sincronización con SAP, que validan la viabilidad
  técnica y de planificación.

- **Integración avanzada:** Control económico, subcontratación y gestión
  del cambio gestionados desde Windchill mediante ProjectLink, que
  asegura la coherencia administrativa y técnica.

Este flujo representa el marco general para la automatización documental
y de ingeniería, y es fundamental para comprender los orígenes, destinos
y relaciones de la información técnica que alimenta el ecosistema de
bases de datos y reporting.

<img src="media/image4.jpg" style="width:7.18472in;height:2.86667in" />

## 4.5. Validación de calidad y revisión

La arquitectura incorpora mecanismos explícitos de revisión, como el
nodo “**Revisar calidad de datos**” que opera tras las primeras
interfaces (HOST_AWD_PEC). Esto incluye:

- Comparaciones CRC (control de redundancia cíclica)

- Revisión de integridad relacional

- Chequeo de campos obligatorios y reglas específicas por cliente

- Logs de control y excepciones

## 4.6. Escenarios operativos

Se contemplan dos tipos de ejecución:

- **Carga completa**: aplicada en escenarios iniciales o de
  reestructuración completa de obras.

- **Carga incremental**: basada en cambios detectados (timestamp, flags
  lógicos, triggers en origen), activando solo las rutas necesarias.

## 4.7. Supervisión operativa y alertado

En este entorno se ha establecido un modelo de trabajo dual: por un
lado, la gestión y explotación interna de los datos AWD; y por otro, la
preparación de flujos estructurados hacia instancias remotas (SQLTURK y
SQLNORWAY) a través del objeto **PDB**. Este objeto actúa como “puente
lógico” entre los entornos locales y los clientes internacionales,
asegurando la consistencia estructural y minimizando el acoplamiento
entre esquemas.

## 4.8. Consideraciones de mejora

La arquitectura actual ha demostrado ser robusta y funcional, pero
pueden abordarse mejoras para simplificar la trazabilidad y
mantenimiento:

- Consolidar los puntos de aplicación de reglas de negocio en un único
  motor o repositorio.

- Unificar nomenclatura de interfaces y vistas entre instancias.

- Automatizar validaciones en origen antes de ejecutar cargas (previa a
  Job 21).

- Documentar un protocolo de fallback ante errores en fases críticas del
  flujo (job fallido, validación fallida).

# 5. Calidad y riesgos actuales 

El sistema actual presenta un estado de operación estable, con mejoras
sustanciales de rendimiento tras la consolidación de datos en instancias
SQL Server modernas (2017–2022) y la reestructuración de vistas e
índices. No obstante, existen **riesgos operativos y técnicos** que
deben ser considerados:

- **Heterogeneidad tecnológica**: conviven versiones desde SQL Server
  2008 R2 hasta 2022, lo que dificulta la unificación de estrategias de
  mantenimiento, backup y seguridad.

- **Instancias con soporte expirado** (MAHOST, SQL20142): aunque en modo
  sólo-lectura, siguen presentes en el entorno y requieren control hasta
  su decommission.

- **Riesgos de obsolescencia funcional**: ciertas dependencias en
  Necor@V6, ECADA o interfaces PEC siguen ancladas a estructuras
  heredadas, dificultando la modernización.

- **Puntos críticos sin HA (alta disponibilidad)**: algunas instancias
  claves no disponen de réplica o failover automático, lo que incrementa
  la exposición ante caídas no planificadas.

- **Dependencias manuales en flujos ETL**: aunque automatizados, los
  flujos de Turquía y Noruega aún dependen de comprobaciones visuales en
  ciertas etapas.

En cuanto a calidad, las mejoras en índices, sinónimos y vistas
funcionales han permitido reducir los tiempos de respuesta entre un
**30 % y 50 %** en procedimientos críticos. Se han implantado controles
CRC y logs que aseguran trazabilidad, pero aún no existe una cobertura
total de pruebas automatizadas ni de alertas proactivas de rendimiento.
Se recomienda avanzar en esas áreas como parte del plan de evolución
técnica.

# 6. Próximos pasos recomendados 

El principal hito pendiente identificado a corto-medio plazo es la
**migración completa de las instancias actuales en MA SQL20142 (tanto
SQL20142 como NECORANET) hacia una nueva instancia consolidada MA
SQL20222 basada en SQL Server 2022**. Esta acción, alineada con las
políticas de modernización tecnológica y soporte de plataforma,
implicará una revisión exhaustiva de todo el entorno actual.

Dicha revisión debe incluir:

- **Análisis y validación de compatibilidad** de procedimientos
  almacenados, funciones, vistas y sinónimos actualmente en uso.

- **Revisión de flujos ETL, enlaces de servidor y servicios asociados**
  (como Reporting Services y Power BI).

- **Evaluación de vistas funcionales y refactorización de estructuras
  heredadas**, con el objetivo de simplificar lógicas innecesarias y
  mejorar el rendimiento global.

- **Homologación de estándares técnicos**: nombres de objetos,
  collation, agrupación de esquemas por rol funcional, etc.

- **Prueba completa de rendimiento comparado**, para asegurar que la
  nueva instancia mantiene o mejora los tiempos actuales, especialmente
  en vistas \_V, índices aplicados y llamadas desde Necor@.

Este proceso no solo permitirá abandonar entornos sin soporte y reducir
riesgos operativos, sino que abrirá la puerta a **implementar buenas
prácticas y optimizaciones** que en el estado actual están condicionadas
por la necesidad de mantener compatibilidad hacia atrás.

Adicionalmente, se recomienda:

- Consolidar backups y planes de mantenimiento en entornos más robustos
  (Azure SQL Managed Instance en el medio plazo).

- Ampliar los mecanismos de alertas y trazabilidad, especialmente en
  entornos internacionales.

Estas acciones permitirán avanzar hacia una **plataforma unificada,
segura y preparada para integraciones futuras**, cumpliendo con los
requisitos operativos internos y externos de Navantia.

# 7. Referencias internas y fuentes consultadas 

A continuación se relacionan las principales fuentes documentales y
registros corporativos consultados para la elaboración de este documento
técnico. Estas referencias aportan el soporte técnico y funcional
necesario para la trazabilidad y justificación de las decisiones
reflejadas.

<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 28%" />
<col style="width: 20%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr>
<th><blockquote>
<p><strong>Nº</strong></p>
</blockquote></th>
<th style="text-align: center;"><strong>Fuente interna</strong></th>
<th colspan="2" style="text-align: center;"><strong>Descripción y
aportación</strong></th>
</tr>
<tr>
<th>R.1</th>
<th style="text-align: left;"><p>Informe de dedicación –</p>
<p>Integración Materiales (Altia)</p></th>
<th colspan="2" style="text-align: left;">Seguimiento detallado del
proceso de sustitución de MANECNET por MASERVF9. Incluye cronograma,
validaciones técnicas y coordinación con SAP PO.</th>
</tr>
<tr>
<th>R.2</th>
<th style="text-align: left;"><p>GLPI #0849716 /</p>
<p>#0856409 / SD 857752</p></th>
<th colspan="2" style="text-align: left;">Incidencias técnicas
registradas durante la migración de servicios y validación de
conectividad entre MASERVF9 y HOSTDB2.</th>
</tr>
<tr>
<th>R.3</th>
<th style="text-align: left;">Actas TEAMS – Integración materiales
SAP</th>
<th colspan="2" style="text-align: left;">Validación funcional conjunta
con SAP y definición del modelo operativo post-migración.</th>
</tr>
<tr>
<th>R.4</th>
<th style="text-align: left;">Reunión 30/04/2024 – Seguimiento activos
históricos</th>
<th colspan="2" style="text-align: left;">Avance del piloto ETL Noruega
y confirmación de la viabilidad del modelo de carga a Power BI.</th>
</tr>
<tr>
<th>R.5</th>
<th><p>Optimización V6 – Tarea GLPI</p>
<p>#431672</p></th>
<th colspan="2" style="text-align: left;"><p>Reestructuración de vistas,
sinónimos e índices en V6 y V6_2.</p>
<p>Justificación técnica validada por Ingeniería.</p></th>
</tr>
<tr>
<th>R.6</th>
<th><p>Diseño técnico ETL Noruega y</p>
<p>Turquía</p></th>
<th colspan="2" style="text-align: left;">Documento funcional sobre
flujos de carga diarios, validaciones CRC y segmentación por país.</th>
</tr>
<tr>
<th>R.7</th>
<th style="text-align: left;">Extracción GLPI (csv)</th>
<th colspan="2" style="text-align: left;">Registro de tickets y acciones
históricas sobre migraciones, refactors y soporte asociado.</th>
</tr>
<tr>
<th>R.8</th>
<th style="text-align: left;">Plantilla Base – Documento</th>
<th colspan="2" style="text-align: left;">Estructura corporativa
empleada para estandarizar el presente</th>
</tr>
<tr>
<th><blockquote>
<p><strong>Nº</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Fuente interna</strong></p>
</blockquote></th>
<th style="text-align: left;"></th>
<th style="text-align: left;"><strong>Descripción y
aportación</strong></th>
</tr>
<tr>
<th style="text-align: left;"></th>
<th style="text-align: left;"><blockquote>
<p>Técnico Navantia</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>documento.</p>
</blockquote></th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

Todas las fuentes están almacenadas en sistemas internos (Teams, GLPI,
correo corporativo) y disponibles bajo petición para auditoría técnica o
trazabilidad interna.

**Referencias documentales utilizadas en este informe:**

- Propuesta Técnica: «Mantenimiento de Sistemas Legacy de Navantia»,
  Altia Consultores.

- Documentos de planificación y ejecución del proyecto HOST (2019–2021).

- Herramientas de gestión de servicio empleadas durante el mantenimiento
  y migración (Helpdesk Navantia).

- Acuerdos de Nivel de Servicio (SLA) establecidos con indicadores de
  tiempo de respuesta y resolución.

- Metodologías empleadas: ITIL, ISO/IEC 20000, Métrica v3.

## Anexo técnico – Inventario actual de bases de datos por instancia

A continuación se documenta el inventario actualizado de bases de datos
existentes en las principales instancias activas de la plataforma, según
revisión interna a fecha de actualización (última revisión: hace 3
días). Se incluyen observaciones de revisión o validación pendiente para
facilitar su trazabilidad operativa.

1.  **Instancia: MASQL20142\NECORANET**

<table>
<colgroup>
<col style="width: 37%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;"><blockquote>
<p><strong>Base de datos</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Estado / Observación</strong></p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">BD_Auxiliar</th>
<th style="text-align: left;"><blockquote>
<p><strong>Obsoleta</strong> – tablas VB6; exportar y eliminar Q4-2025
(plan obsolescencia) 0adce6d2-706d-4681-8949…</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">Coral</th>
<th style="text-align: left;"><blockquote>
<p><strong>Activa</strong> – módulo Corales PDB; migrar a SQL 2022 junto
con</p>
<p>Necora*</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">InterfacesAWD</th>
<th><blockquote>
<p><strong>Activa</strong> – staging de cargas AWD; revisar tamaño de
log (&gt; 45</p>
<p>GB)</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">InterfacesAWD_PEC</th>
<th style="text-align: left;"><blockquote>
<p><strong>Activa</strong> – mismo esquema que InterfacesAWD; consolidar
en una sola BD</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">InterfacesDWH</th>
<th style="text-align: left;"><blockquote>
<p><strong>Sólo-lectura</strong> – origen Power BI; última actualización
17may-2025</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">NAILInterfacesAWD</th>
<th><blockquote>
<p><strong>Pendiente validación</strong> – sin conexiones registradas en
90 días</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">Nautilus</th>
<th style="text-align: left;"><blockquote>
<p><strong>Obsoleta</strong> – sustituida por módulo RADAR Nautilus;</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">NecoraAWD</th>
<th style="text-align: left;"><blockquote>
<p><strong>Producción</strong> – núcleo histórico Necor@</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">NecoraDocAWD</th>
<th><blockquote>
<p><strong>Activa</strong> – documentos DWG; alto growth de FILESTREAM
(4,3</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: center;"><blockquote>
<p><strong>Base de datos</strong></p>
</blockquote></th>
<th style="text-align: center;"><blockquote>
<p><strong>Estado / Observación</strong></p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;"></th>
<th style="text-align: left;"><blockquote>
<p>TB)</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">NecoraHistoric</th>
<th style="text-align: left;"><blockquote>
<p><strong>Archivada</strong> – modo READ_ONLY desde 01-mar-2025 (ahorro
backup)</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">NecoraNet_BI</th>
<th style="text-align: left;"><blockquote>
<p><strong>Sólo-lectura</strong> – cubos SSAS; refresco nocturno 03:00
h</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">NecoraReplicationControlAWD</th>
<th style="text-align: left;"><blockquote>
<p><strong>Sistema</strong> – metadatos de réplica Merge; no tocar</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">RADAR</th>
<th><blockquote>
<p><strong>Pre-producción</strong> – módulo Taquillas 75 % completado;
pilotaje sept-2025 0adce6d2-706d-4681-8949…</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">ReportServer$NECORANET</th>
<th><blockquote>
<p><strong>Sistema Reporting</strong> – SSRS; plan migración a nuevo
servidor BI</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">ReportServer$NECORANETTempDB</th>
<th style="text-align: left;"><blockquote>
<p><strong>Sistema Reporting</strong> – temp de SSRS</p>
</blockquote></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

2.  **Instancia: MASQL20142\SQL20142**

<table>
<colgroup>
<col style="width: 36%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;"><strong>Base de datos</strong></th>
<th style="text-align: center;"><strong>Estado /
Observación</strong></th>
</tr>
<tr>
<th style="text-align: left;">Necor@NC</th>
<th><blockquote>
<p><strong>Producción (cliente Noruega)</strong> – backups diarios;
migración a</p>
<p>MASQL20222 en octubre-2025</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">NecoraAWD</th>
<th style="text-align: left;"><blockquote>
<p><strong>Vacía</strong> – se creó para pruebas; eliminar tras validar
que no hay jobs dependientes</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">ReportServer_ReportingTest</th>
<th style="text-align: left;"><blockquote>
<p><strong>Entorno TEST</strong> – migrar o eliminar con el nuevo portal
BI</p>
</blockquote></th>
</tr>
<tr>
<th>ReportServer_ReportingTestTempDB</th>
<th style="text-align: left;"><blockquote>
<p><strong>Entorno TEST</strong> – idem anterior</p>
</blockquote></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

3.  **Instancia: MASQL20171\HOSTDB2**

<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;"><strong>Base de datos</strong></th>
<th style="text-align: center;"><strong>Estado /
Observación</strong></th>
</tr>
<tr>
<th style="text-align: left;">Aceros</th>
<th style="text-align: left;"><strong>Producción baja
frecuencia</strong> – consulta puntual por Programa F110</th>
</tr>
<tr>
<th style="text-align: left;">AcerosMPGS</th>
<th style="text-align: left;"><strong>Pendiente migrar</strong> –
move-group lote 2 (plan WS 2012R2)</th>
</tr>
<tr>
<th style="text-align: left;">AlmacenesIntermedios</th>
<th style="text-align: left;"><strong>Activa</strong> – interfaz SAP;
índice IDX_AlmTrans con fragmentación 68 %</th>
</tr>
<tr>
<th style="text-align: left;">BQ 206</th>
<th style="text-align: left;"><strong>Obsoleta</strong> – sin escrituras
desde 2018; archivar</th>
</tr>
<tr>
<th style="text-align: left;">ControlAsuntos</th>
<th style="text-align: left;"><strong>Activa</strong> – workflow VB6;
riesgo .NET 3.5 legacy 345e8c4b-ef01-4600-9dd7…</th>
</tr>
<tr>
<th style="text-align: left;">ControlDoc</th>
<th style="text-align: left;"><strong>Producción</strong> – repositorio
documentos internos</th>
</tr>
<tr>
<th style="text-align: left;">CoralTest</th>
<th style="text-align: left;"><strong>Desarrollo</strong> – sandbox de
Coral; limpiar cada trimestre</th>
</tr>
<tr>
<th style="text-align: left;">DB2P</th>
<th style="text-align: left;"><strong>Producción</strong> – dados de
Newport; requiere puerto estático 1456</th>
</tr>
<tr>
<th style="text-align: left;">DB2T</th>
<th style="text-align: left;"><strong>Test</strong> – restauración
diaria de DB2P</th>
</tr>
<tr>
<th style="text-align: left;">GestionHerramental</th>
<th style="text-align: left;"><strong>Producción</strong> – migrar a
RADAR (nov-2025) 0adce6d2-706d-4681-8949…</th>
</tr>
<tr>
<th style="text-align: left;">LowCodeWorkOrders</th>
<th style="text-align: left;"><strong>PoC</strong> – app Power Apps;
validar modelo de seguridad</th>
</tr>
<tr>
<th style="text-align: left;">Necor@</th>
<th><strong>Producción</strong> – núcleo HOST; integrado con MASERVF9
TEAMS - Integración mat…</th>
</tr>
<tr>
<th style="text-align: left;">Ordenes</th>
<th style="text-align: left;"><strong>Producción</strong> – integración
MES; alto I/O nocturno</th>
</tr>
<tr>
<th style="text-align: left;">ReportServer_SI2</th>
<th style="text-align: left;"><strong>Sistema Reporting</strong> –
activo; pendiente renombrar estándar</th>
</tr>
<tr>
<th>ReportServer_SI2TempDB</th>
<th style="text-align: left;"><strong>Sistema Reporting</strong> –
activo</th>
</tr>
<tr>
<th style="text-align: center;"><strong>Base de datos</strong></th>
<th style="text-align: center;"><strong>Estado /
Observación</strong></th>
</tr>
<tr>
<th style="text-align: left;"></th>
<th style="text-align: left;"></th>
</tr>
<tr>
<th style="text-align: left;">SSISDB</th>
<th style="text-align: left;"><strong>Sistema</strong> – cat. SSIS;
backup FULL semanal</th>
</tr>
<tr>
<th style="text-align: left;">SubContratas</th>
<th style="text-align: left;"><strong>Producción</strong> – módulo
contratos; revisar FK inconsistentes</th>
</tr>
<tr>
<th style="text-align: left;">V6</th>
<th><p><strong>Producción</strong> – destino flujo F100_MAT_SAP;
monitorización proactiva pendiente</p>
<p>TEAMS - Integración mat…</p></th>
</tr>
<tr>
<th style="text-align: left;">V6_2</th>
<th style="text-align: left;"><strong>Calidad / pruebas</strong> – copia
de V6;</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

Nota: en el caso de la instancia MASQL20171\HOSTDB2 no se han incluido
las bases que comienzan por 'T\_' al considerarse entornos de prueba
(TEST) de las anteriores.

## Anexo – Inventario de Jobs por instancia

Este anexo recoge el inventario de trabajos (SQL Server Agent Jobs)
habilitados en distintas instancias SQL de Navantia, tal como aparecen
configurados en el Job Activity Monitor. Para cada job se indica si está
activo y la frecuencia estimada de ejecución-

1.  **Instancia: MASQL20171\HOSTDB2**

<table>
<colgroup>
<col style="width: 58%" />
<col style="width: 11%" />
<col style="width: 29%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;"><blockquote>
<p>Nombre del Job</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Activo</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Frecuencia estimada</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">SAPInterfaces</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">Replication agents checkup</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">INTERFACES_NET_CARGA_MATERIAL</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">MaintenancePlan - Backup Full and Log</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">BATCH_NECORANET_BRAVOERI_AR</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">No programado</th>
</tr>
<tr>
<th style="text-align: left;">BATCH_NECORANET_BRAVROPE_PROD</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">No programado</th>
</tr>
<tr>
<th style="text-align: left;">syspolicy_purge_history</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">INTERFACES_SAP_AUTOMATICOS</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">ShrinkLogDBProduction</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">SSIS Server Maintenance Job</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">MaintenancePlan - Shrink
shrinkDataBase</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

<table>
<colgroup>
<col style="width: 58%" />
<col style="width: 11%" />
<col style="width: 29%" />
</colgroup>
<thead>
<tr>
<th style="text-align: left;">Borrado-planes-mantenimiento
Subplan_8</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">MaintenancePlan - Clean History
Subplan_1</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">ShrinkLogDBTest</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">DiarioDorado-BK Dorado-backups</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">_ShrinkBKTTest</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">TestingActiveScripting</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">Diario-Subplan_3</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Semanal</th>
</tr>
<tr>
<th style="text-align: left;">MaintenancePlan - Rebuild Index And
Stats</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Semanal</th>
</tr>
<tr>
<th style="text-align: left;">INTERFACES_NET_CARGA_CABECERAS</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">No programado</th>
</tr>
<tr>
<th style="text-align: left;">INTERFACES_NET_CARGA_CABECERAS_2</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">No programado</th>
</tr>
<tr>
<th style="text-align: left;">BATCH_FICHEROS_PCACNEX_CARGA</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">No programado</th>
</tr>
<tr>
<th style="text-align: left;">SAPcompressionHistoryFiles</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Mensual</th>
</tr>
<tr>
<th style="text-align: left;">Z_InformeGD_AWD</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">No programado</th>
</tr>
<tr>
<th style="text-align: left;">BATCH_FICHEROS_HOJAS</th>
<th style="text-align: left;"><blockquote>
<p>No</p>
</blockquote></th>
<th style="text-align: left;">No programado</th>
</tr>
<tr>
<th style="text-align: left;">BATCH_FICHEROS_SI2_NO_INMEDIATO</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">No programado</th>
</tr>
<tr>
<th style="text-align: left;">BATCH_FICHEROS_SI2_INMEDIATO</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Ejecución reciente</th>
</tr>
<tr>
<th style="text-align: left;">MaintenancePlan - Check DB Subplan_1</th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

2.  **Instancia: MASQL20142\NECORANET**

<table>
<colgroup>
<col style="width: 62%" />
<col style="width: 10%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr>
<th style="text-align: left;"><blockquote>
<p>Nombre del Job</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Activo</p>
</blockquote></th>
<th style="text-align: left;">Frecuencia estimada</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>Nautilus</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>Z7_Carga NAIL NC1XSQ</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>ActualizarEstadoCasillas</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>99_Correccion Codigo TDRevision</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>Agent history clean up: distribution</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>Replication agents checkup</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>MaintenancePlan - Backup Full And TLogs</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>25_Carga NecoraNET - Materiales</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>Distribucion delta</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>30_Carga NecoraNET - Carga completa + reglas</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>Plan CheckDB Subplan_1</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>Plan_Indices Reorganiza Subplan_1</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Semanal</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>22_Carga NAIL PEC - Carga Asuntos y Tareas</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>22_Carga NAIL PEC - Carga completa + materiales</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>99_Correccion extensiones</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>MaintenancePlan - Clean History Subplan_1</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>25_Carga NecoraNET - HojasCatalogo</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;"></th>
<th style="text-align: left;"></th>
<th style="text-align: left;"></th>
</tr>
<tr>
<th style="text-align: left;"><blockquote>
<p>Z_Alerta deDocumento</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Sí</p>
</blockquote></th>
<th style="text-align: left;">Diario</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

3.  **Instancia: MASQL20221\SQLNORWAY**

<table>
<colgroup>
<col style="width: 56%" />
<col style="width: 11%" />
<col style="width: 32%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;"><blockquote>
<p>Nombre del Job</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Activo</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Frecuencia estimada</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">MaintenancePlan - BackupFull And Log</th>
<th style="text-align: left;">Sí</th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">01_Carga NORWAY</th>
<th style="text-align: left;">No</th>
<th style="text-align: left;">Diario</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

4.  **Instancia: MASQL20221\SQLTURK**

<table>
<colgroup>
<col style="width: 56%" />
<col style="width: 11%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;"><blockquote>
<p>Nombre del Job</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Activo</p>
</blockquote></th>
<th style="text-align: left;"><blockquote>
<p>Frecuencia estimada</p>
</blockquote></th>
</tr>
<tr>
<th style="text-align: left;">MaintenancePlan - Backup Full And Log</th>
<th style="text-align: left;">Sí</th>
<th style="text-align: left;">Diario</th>
</tr>
<tr>
<th style="text-align: left;">MaintenancePlan - Rebuild Index</th>
<th style="text-align: left;">Sí</th>
<th style="text-align: left;">Semanal</th>
</tr>
</thead>
<tbody>
</tbody>
</table>


Este informe recoge el análisis funcional de la pantalla 'Órdenes de
Trabajo' perteneciente a la versión VB6 de la aplicación Necor@V6. A
partir del estudio visual de las interfaces, se han identificado los
elementos clave, flujos de usuario y funcionalidades accesibles sin
acceder al detalle interno del código ni procesos ocultos.

# 1. Elementos de Interfaz Identificados

Se identifican los siguientes elementos visibles en la pantalla
principal de Órdenes de Trabajo:

\- Menú superior con opciones de gestión (Nuevo, Editar, Eliminar,
Imprimir).

\- Panel lateral izquierdo con filtros de búsqueda (Estado, Cliente,
Fecha).

\- Rejilla central con listado de órdenes con columnas: ID, Cliente,
Fecha, Estado, etc.

\- Botones de acción en la parte inferior: 'Guardar', 'Cancelar',
'Generar PDF'.

# 2. Flujos de Usuario Observados

Ejemplo de flujo típico de trabajo observado:

1\. Selección de una orden desde la rejilla principal.

2\. Edición de los campos 'Cliente' y 'Fecha de ejecución'.

3\. Clic en botón 'Guardar' para registrar los cambios.

4\. Opción de generar PDF mediante botón inferior derecho.


Este documento presenta un análisis funcional detallado de la pantalla
'Órdenes de Trabajo' de la aplicación Necor@V6 desarrollada en Visual
Basic 6. El objetivo es documentar las funcionalidades disponibles desde
la perspectiva del usuario, describiendo elementos de interfaz, acciones
posibles y flujos operativos detectados. Este informe es independiente
de cualquier comparación con versiones más recientes del software.

# 1. Elementos de Interfaz Identificados

La pantalla principal de gestión de órdenes de trabajo está compuesta
por los siguientes elementos visuales:

\- Menú superior con botones: Nuevo, Editar, Borrar, Imprimir, Salir.

\- Panel lateral izquierdo con filtros de búsqueda: Estado, Cliente,
Fecha, Tipo de orden.

\- Rejilla central con listado de órdenes activas (columnas: Nº Orden,
Cliente, Fecha Inicio, Fecha Fin, Estado, Técnico asignado).

\- Panel inferior con campos de observaciones generales y totales.

\- Botonera inferior con funciones: Guardar, Cancelar, Generar PDF,
Cerrar.

# 2. Flujos Funcionales Observados

\- Acceso a la pantalla de órdenes de trabajo desde el menú principal.

\- Creación de una nueva orden: pulsar 'Nuevo', completar campos,
guardar.

\- Búsqueda de órdenes por filtros (cliente, estado, fecha).

\- Edición de orden: seleccionar fila → pulsar 'Editar' → modificar
campos → pulsar 'Guardar'.

\- Eliminación de orden: seleccionar fila → pulsar 'Borrar'.

\- Impresión o generación de documento: botón 'Imprimir' o 'Generar
PDF'.

\- Acceso a datos extendidos desde pestañas internas: Tareas,
Materiales, Historial.

\- Cierre de la orden mediante campo de estado o botón específico.

# 3. Pestañas y Funcionalidades Asociadas

\- General: Campos principales como Nº orden, cliente, fechas,
observaciones y estado.

\- Tareas: Listado editable de tareas asignadas con tiempos y técnicos.

\- Materiales: Consumo de materiales con cantidad y coste.

\- Historial: Visualización de eventos registrados sobre la orden.

\- Facturación: Datos de cobro asociados si está habilitado.

# 4. Observaciones Funcionales

La aplicación presenta una estructura clara basada en pestañas, lo que
permite una navegación organizada. Los botones son consistentes en su
ubicación, aunque las acciones no siempre presentan mensajes de
confirmación visibles. Algunas acciones requieren selección previa desde
la tabla central, sin lo cual el botón no está habilitado.


Este informe recoge el análisis funcional individual de la pantalla
'Órdenes de Trabajo' perteneciente a la aplicación Necor@V6 desarrollada
en Visual Basic 6. Se documentan las funcionalidades observadas, los
flujos de usuario, y se acompañan capturas de pantalla obtenidas de la
interfaz real, sin realizar comparativa aún con la versión .NET.

# 1. Elementos de Interfaz Identificados

\- Menú superior con botones: Nuevo, Editar, Eliminar, Imprimir.

\- Panel lateral izquierdo con filtros de búsqueda por Estado, Cliente,
Fecha.

\- Zona central con rejilla de órdenes: columnas visibles como Nº OT,
Cliente, Fecha, Estado, Técnico.

\- Pestañas inferiores: General, Tareas, Materiales, Historial.

\- Botonera inferior con acciones como Guardar, Cancelar, Generar PDF.

# 2. Flujos Funcionales Detectados

\- Creación de nueva orden mediante botón 'Nuevo' → ingreso de datos →
Guardar.

\- Edición de orden existente seleccionando en la tabla → clic en
'Editar' → modificar campos → Guardar.

\- Borrado de orden seleccionada mediante botón 'Eliminar'.

\- Filtrado dinámico de resultados mediante panel izquierdo.

\- Visualización de historial y tareas asignadas a través de pestañas
inferiores.

\- Generación de impresión/PDF desde botón inferior derecho.

# 3. Funcionalidad por Pestañas

A continuación se resume el contenido observado en cada pestaña de la
pantalla:

\- General: Contiene los datos básicos de la orden: cliente, fechas,
estado, observaciones.

\- Tareas: Permite introducir tareas planificadas con tiempos, técnico,
y descripciones.

\- Materiales: Lista los materiales usados o previstos para la
intervención.

\- Historial: Visualiza eventos registrados sobre la orden como cambios
de estado o anotaciones.

# 4. Capturas Relevantes de la Interfaz

Las siguientes imágenes representan pantallas clave de la aplicación
analizada:

Captura 1

<img src="media/image1.png" style="width:6.5in;height:3.25in" />

Captura 2

<img src="media/image2.png" style="width:6.5in;height:3.25in" />

Captura 3

<img src="media/image3.png" style="width:6.5in;height:3.25in" />

Captura 4

<img src="media/image4.png" style="width:6.5in;height:3.25in" />


