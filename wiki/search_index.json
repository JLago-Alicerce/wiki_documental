[
  {
    "title": "7. Referencias internas y fuentes consultadas",
    "path": "10_7-referencias-internas-y-fuentes-consultadas.md",
    "body": "---\nsource: EstadoActualPlataformaBBD_V0306_10_32.md\ndoc_source: EstadoActualPlataformaBBD_V0306_10_32.docx\ncreated: 2025-06-15T23:33:05.582326\n---\n<div class=\"fragment-meta\">source: EstadoActualPlataformaBBD_V0306_10_32.md | doc: EstadoActualPlataformaBBD_V0306_10_32.docx | created: 2025-06-15T23:33:05.582326</div>\n\n# 7. Referencias internas y fuentes consultadas \n\nA continuación se relacionan las principales fuentes documentales y\nregistros corporativos consultados para la elaboración de este documento\ntécnico. Estas referencias aportan el soporte técnico y funcional\nnecesario para la trazabilidad y justificación de las decisiones\nreflejadas.\n\n<table>\n<colgroup>\n<col style=\"width: 4%\" />\n<col style=\"width: 28%\" />\n<col style=\"width: 20%\" />\n<col style=\"width: 46%\" />\n</colgroup>\n<thead>\n<tr>\n<th><blockquote>\n<p><strong>Nº</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><strong>Fuente interna</strong></th>\n<th colspan=\"2\" style=\"text-align: center;\"><strong>Descripción y\naportación</strong></th>\n</tr>\n<tr>\n<th>R.1</th>\n<th style=\"text-align: left;\"><p>Informe de dedicación –</p>\n<p>Integración Materiales (Altia)</p></th>\n<th colspan=\"2\" style=\"text-align: left;\">Seguimiento detallado del\nproceso de sustitución de MANECNET por MASERVF9. Incluye cronograma,\nvalidaciones técnicas y coordinación con SAP PO.</th>\n</tr>\n<tr>\n<th>R.2</th>\n<th style=\"text-align: left;\"><p>GLPI #0849716 /</p>\n<p>#0856409 / SD 857752</p></th>\n<th colspan=\"2\" style=\"text-align: left;\">Incidencias técnicas\nregistradas durante la migración de servicios y validación de\nconectividad entre MASERVF9 y HOSTDB2.</th>\n</tr>\n<tr>\n<th>R.3</th>\n<th style=\"text-align: left;\">Actas TEAMS – Integración materiales\nSAP</th>\n<th colspan=\"2\" style=\"text-align: left;\">Validación funcional conjunta\ncon SAP y definición del modelo operativo post-migración.</th>\n</tr>\n<tr>\n<th>R.4</th>\n<th style=\"text-align: left;\">Reunión 30/04/2024 – Seguimiento activos\nhistóricos</th>\n<th colspan=\"2\" style=\"text-align: left;\">Avance del piloto ETL Noruega\ny confirmación de la viabilidad del modelo de carga a Power BI.</th>\n</tr>\n<tr>\n<th>R.5</th>\n<th><p>Optimización V6 – Tarea GLPI</p>\n<p>#431672</p></th>\n<th colspan=\"2\" style=\"text-align: left;\"><p>Reestructuración de vistas,\nsinónimos e índices en V6 y V6_2.</p>\n<p>Justificación técnica validada por Ingeniería.</p></th>\n</tr>\n<tr>\n<th>R.6</th>\n<th><p>Diseño técnico ETL Noruega y</p>\n<p>Turquía</p></th>\n<th colspan=\"2\" style=\"text-align: left;\">Documento funcional sobre\nflujos de carga diarios, validaciones CRC y segmentación por país.</th>\n</tr>\n<tr>\n<th>R.7</th>\n<th style=\"text-align: left;\">Extracción GLPI (csv)</th>\n<th colspan=\"2\" style=\"text-align: left;\">Registro de tickets y acciones\nhistóricas sobre migraciones, refactors y soporte asociado.</th>\n</tr>\n<tr>\n<th>R.8</th>\n<th style=\"text-align: left;\">Plantilla Base – Documento</th>\n<th colspan=\"2\" style=\"text-align: left;\">Estructura corporativa\nempleada para estandarizar el presente</th>\n</tr>\n<tr>\n<th><blockquote>\n<p><strong>Nº</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Fuente interna</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"><strong>Descripción y\naportación</strong></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Técnico Navantia</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>documento.</p>\n</blockquote></th>\n<th style=\"text-align: left;\"></th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n\nTodas las fuentes están almacenadas en sistemas internos (Teams, GLPI,\ncorreo corporativo) y disponibles bajo petición para auditoría técnica o\ntrazabilidad interna.\n\n**Referencias documentales utilizadas en este informe:**\n\n- Propuesta Técnica: «Mantenimiento de Sistemas Legacy de Navantia»,\n  Altia Consultores.\n\n- Documentos de planificación y ejecución del proyecto HOST (2019–2021).\n\n- Herramientas de gestión de servicio empleadas durante el mantenimiento\n  y migración (Helpdesk Navantia).\n\n- Acuerdos de Nivel de Servicio (SLA) establecidos con indicadores de\n  tiempo de respuesta y resolución.\n\n- Metodologías empleadas: ITIL, ISO/IEC 20000, Métrica v3.\n\n## Anexo técnico – Inventario actual de bases de datos por instancia\n\nA continuación se documenta el inventario actualizado de bases de datos\nexistentes en las principales instancias activas de la plataforma, según\nrevisión interna a fecha de actualización (última revisión: hace 3\ndías). Se incluyen observaciones de revisión o validación pendiente para\nfacilitar su trazabilidad operativa.\n\n1.  **Instancia: MASQL20142/NECORANET**\n\n<table>\n<colgroup>\n<col style=\"width: 37%\" />\n<col style=\"width: 62%\" />\n</colgroup>\n<thead>\n<tr>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Base de datos</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Estado / Observación</strong></p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">BD_Auxiliar</th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Obsoleta</strong> – tablas VB6; exportar y eliminar Q4-2025\n(plan obsolescencia) 0adce6d2-706d-4681-8949…</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">Coral</th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Activa</strong> – módulo Corales PDB; migrar a SQL 2022 junto\ncon</p>\n<p>Necora*</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">InterfacesAWD</th>\n<th><blockquote>\n<p><strong>Activa</strong> – staging de cargas AWD; revisar tamaño de\nlog (&gt; 45</p>\n<p>GB)</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">InterfacesAWD_PEC</th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Activa</strong> – mismo esquema que InterfacesAWD; consolidar\nen una sola BD</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">InterfacesDWH</th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Sólo-lectura</strong> – origen Power BI; última actualización\n17may-2025</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">NAILInterfacesAWD</th>\n<th><blockquote>\n<p><strong>Pendiente validación</strong> – sin conexiones registradas en\n90 días</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">Nautilus</th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Obsoleta</strong> – sustituida por módulo RADAR Nautilus;</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">NecoraAWD</th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Producción</strong> – núcleo histórico Necor@</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">NecoraDocAWD</th>\n<th><blockquote>\n<p><strong>Activa</strong> – documentos DWG; alto growth de FILESTREAM\n(4,3</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Base de datos</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Estado / Observación</strong></p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>TB)</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">NecoraHistoric</th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Archivada</strong> – modo READ_ONLY desde 01-mar-2025 (ahorro\nbackup)</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">NecoraNet_BI</th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Sólo-lectura</strong> – cubos SSAS; refresco nocturno 03:00\nh</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">NecoraReplicationControlAWD</th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Sistema</strong> – metadatos de réplica Merge; no tocar</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">RADAR</th>\n<th><blockquote>\n<p><strong>Pre-producción</strong> – módulo Taquillas 75 % completado;\npilotaje sept-2025 0adce6d2-706d-4681-8949…</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">ReportServer$NECORANET</th>\n<th><blockquote>\n<p><strong>Sistema Reporting</strong> – SSRS; plan migración a nuevo\nservidor BI</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">ReportServer$NECORANETTempDB</th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Sistema Reporting</strong> – temp de SSRS</p>\n</blockquote></th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n\n2.  **Instancia: MASQL20142/SQL20142**\n\n<table>\n<colgroup>\n<col style=\"width: 36%\" />\n<col style=\"width: 63%\" />\n</colgroup>\n<thead>\n<tr>\n<th style=\"text-align: center;\"><strong>Base de datos</strong></th>\n<th style=\"text-align: center;\"><strong>Estado /\nObservación</strong></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">Necor@NC</th>\n<th><blockquote>\n<p><strong>Producción (cliente Noruega)</strong> – backups diarios;\nmigración a</p>\n<p>MASQL20222 en octubre-2025</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">NecoraAWD</th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Vacía</strong> – se creó para pruebas; eliminar tras validar\nque no hay jobs dependientes</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">ReportServer_ReportingTest</th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Entorno TEST</strong> – migrar o eliminar con el nuevo portal\nBI</p>\n</blockquote></th>\n</tr>\n<tr>\n<th>ReportServer_ReportingTestTempDB</th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Entorno TEST</strong> – idem anterior</p>\n</blockquote></th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n\n3.  **Instancia: MASQL20171/HOSTDB2**\n\n<table>\n<colgroup>\n<col style=\"width: 25%\" />\n<col style=\"width: 74%\" />\n</colgroup>\n<thead>\n<tr>\n<th style=\"text-align: center;\"><strong>Base de datos</strong></th>\n<th style=\"text-align: center;\"><strong>Estado /\nObservación</strong></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">Aceros</th>\n<th style=\"text-align: left;\"><strong>Producción baja\nfrecuencia</strong> – consulta puntual por Programa F110</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">AcerosMPGS</th>\n<th style=\"text-align: left;\"><strong>Pendiente migrar</strong> –\nmove-group lote 2 (plan WS 2012R2)</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">AlmacenesIntermedios</th>\n<th style=\"text-align: left;\"><strong>Activa</strong> – interfaz SAP;\níndice IDX_AlmTrans con fragmentación 68 %</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">BQ 206</th>\n<th style=\"text-align: left;\"><strong>Obsoleta</strong> – sin escrituras\ndesde 2018; archivar</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">ControlAsuntos</th>\n<th style=\"text-align: left;\"><strong>Activa</strong> – workflow VB6;\nriesgo .NET 3.5 legacy 345e8c4b-ef01-4600-9dd7…</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">ControlDoc</th>\n<th style=\"text-align: left;\"><strong>Producción</strong> – repositorio\ndocumentos internos</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">CoralTest</th>\n<th style=\"text-align: left;\"><strong>Desarrollo</strong> – sandbox de\nCoral; limpiar cada trimestre</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">DB2P</th>\n<th style=\"text-align: left;\"><strong>Producción</strong> – dados de\nNewport; requiere puerto estático 1456</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">DB2T</th>\n<th style=\"text-align: left;\"><strong>Test</strong> – restauración\ndiaria de DB2P</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">GestionHerramental</th>\n<th style=\"text-align: left;\"><strong>Producción</strong> – migrar a\nRADAR (nov-2025) 0adce6d2-706d-4681-8949…</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">LowCodeWorkOrders</th>\n<th style=\"text-align: left;\"><strong>PoC</strong> – app Power Apps;\nvalidar modelo de seguridad</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">Necor@</th>\n<th><strong>Producción</strong> – núcleo HOST; integrado con MASERVF9\nTEAMS - Integración mat…</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">Ordenes</th>\n<th style=\"text-align: left;\"><strong>Producción</strong> – integración\nMES; alto I/O nocturno</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">ReportServer_SI2</th>\n<th style=\"text-align: left;\"><strong>Sistema Reporting</strong> –\nactivo; pendiente renombrar estándar</th>\n</tr>\n<tr>\n<th>ReportServer_SI2TempDB</th>\n<th style=\"text-align: left;\"><strong>Sistema Reporting</strong> –\nactivo</th>\n</tr>\n<tr>\n<th style=\"text-align: center;\"><strong>Base de datos</strong></th>\n<th style=\"text-align: center;\"><strong>Estado /\nObservación</strong></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">SSISDB</th>\n<th style=\"text-align: left;\"><strong>Sistema</strong> – cat. SSIS;\nbackup FULL semanal</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">SubContratas</th>\n<th style=\"text-align: left;\"><strong>Producción</strong> – módulo\ncontratos; revisar FK inconsistentes</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">V6</th>\n<th><p><strong>Producción</strong> – destino flujo F100_MAT_SAP;\nmonitorización proactiva pendiente</p>\n<p>TEAMS - Integración mat…</p></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">V6_2</th>\n<th style=\"text-align: left;\"><strong>Calidad / pruebas</strong> – copia\nde V6;</th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n\nNota: en el caso de la instancia MASQL20171/HOSTDB2 no se han incluido\nlas bases que comienzan por 'T/_' al considerarse entornos de prueba\n(TEST) de las anteriores.\n\n## Anexo – Inventario de Jobs por instancia\n\nEste anexo recoge el inventario de trabajos (SQL Server Agent Jobs)\nhabilitados en distintas instancias SQL de Navantia, tal como aparecen\nconfigurados en el Job Activity Monitor. Para cada job se indica si está\nactivo y la frecuencia estimada de ejecución-\n\n1.  **Instancia: MASQL20171/HOSTDB2**\n\n<table>\n<colgroup>\n<col style=\"width: 58%\" />\n<col style=\"width: 11%\" />\n<col style=\"width: 29%\" />\n</colgroup>\n<thead>\n<tr>\n<th style=\"text-align: center;\"><blockquote>\n<p>Nombre del Job</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Activo</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Frecuencia estimada</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">SAPInterfaces</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">Replication agents checkup</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">INTERFACES_NET_CARGA_MATERIAL</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">MaintenancePlan - Backup Full and Log</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">BATCH_NECORANET_BRAVOERI_AR</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">No programado</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">BATCH_NECORANET_BRAVROPE_PROD</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">No programado</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">syspolicy_purge_history</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">INTERFACES_SAP_AUTOMATICOS</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">ShrinkLogDBProduction</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">SSIS Server Maintenance Job</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">MaintenancePlan - Shrink\nshrinkDataBase</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n\n<table>\n<colgroup>\n<col style=\"width: 58%\" />\n<col style=\"width: 11%\" />\n<col style=\"width: 29%\" />\n</colgroup>\n<thead>\n<tr>\n<th style=\"text-align: left;\">Borrado-planes-mantenimiento\nSubplan_8</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">MaintenancePlan - Clean History\nSubplan_1</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">ShrinkLogDBTest</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">DiarioDorado-BK Dorado-backups</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">_ShrinkBKTTest</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">TestingActiveScripting</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">Diario-Subplan_3</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Semanal</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">MaintenancePlan - Rebuild Index And\nStats</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Semanal</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">INTERFACES_NET_CARGA_CABECERAS</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">No programado</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">INTERFACES_NET_CARGA_CABECERAS_2</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">No programado</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">BATCH_FICHEROS_PCACNEX_CARGA</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">No programado</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">SAPcompressionHistoryFiles</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Mensual</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">Z_InformeGD_AWD</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">No programado</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">BATCH_FICHEROS_HOJAS</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>No</p>\n</blockquote></th>\n<th style=\"text-align: left;\">No programado</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">BATCH_FICHEROS_SI2_NO_INMEDIATO</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">No programado</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">BATCH_FICHEROS_SI2_INMEDIATO</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Ejecución reciente</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">MaintenancePlan - Check DB Subplan_1</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n\n2.  **Instancia: MASQL20142/NECORANET**\n\n<table>\n<colgroup>\n<col style=\"width: 62%\" />\n<col style=\"width: 10%\" />\n<col style=\"width: 27%\" />\n</colgroup>\n<thead>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>Nombre del Job</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Activo</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Frecuencia estimada</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>Nautilus</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>Z7_Carga NAIL NC1XSQ</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>ActualizarEstadoCasillas</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>99_Correccion Codigo TDRevision</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>Agent history clean up: distribution</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>Replication agents checkup</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>MaintenancePlan - Backup Full And TLogs</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>25_Carga NecoraNET - Materiales</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>Distribucion delta</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>30_Carga NecoraNET - Carga completa + reglas</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>Plan CheckDB Subplan_1</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>Plan_Indices Reorganiza Subplan_1</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Semanal</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>22_Carga NAIL PEC - Carga Asuntos y Tareas</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>22_Carga NAIL PEC - Carga completa + materiales</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>99_Correccion extensiones</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>MaintenancePlan - Clean History Subplan_1</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>25_Carga NecoraNET - HojasCatalogo</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p>Z_Alerta deDocumento</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Sí</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n\n3.  **Instancia: MASQL20221/SQLNORWAY**\n\n<table>\n<colgroup>\n<col style=\"width: 56%\" />\n<col style=\"width: 11%\" />\n<col style=\"width: 32%\" />\n</colgroup>\n<thead>\n<tr>\n<th style=\"text-align: center;\"><blockquote>\n<p>Nombre del Job</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Activo</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Frecuencia estimada</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">MaintenancePlan - BackupFull And Log</th>\n<th style=\"text-align: left;\">Sí</th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">01_Carga NORWAY</th>\n<th style=\"text-align: left;\">No</th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n\n4.  **Instancia: MASQL20221/SQLTURK**\n\n<table>\n<colgroup>\n<col style=\"width: 56%\" />\n<col style=\"width: 11%\" />\n<col style=\"width: 31%\" />\n</colgroup>\n<thead>\n<tr>\n<th style=\"text-align: center;\"><blockquote>\n<p>Nombre del Job</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Activo</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Frecuencia estimada</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">MaintenancePlan - Backup Full And Log</th>\n<th style=\"text-align: left;\">Sí</th>\n<th style=\"text-align: left;\">Diario</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">MaintenancePlan - Rebuild Index</th>\n<th style=\"text-align: left;\">Sí</th>\n<th style=\"text-align: left;\">Semanal</th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n"
  },
  {
    "title": "ÍNDICE",
    "path": "1_indice.md",
    "body": "---\nsource: 20221115_TraspasoConocimientos.md\ndoc_source: 20221115_TraspasoConocimientos.docx\ncreated: 2025-06-15T23:33:05.497358\n---\n<div class=\"fragment-meta\">source: 20221115_TraspasoConocimientos.md | doc: 20221115_TraspasoConocimientos.docx | created: 2025-06-15T23:33:05.497358</div>\n\n# ÍNDICE\n\n### 1 Objetivos del documento\n\n> Con el siguiente documento se pretende reflejar, en rasgos generales,\n> el traspaso de conocimientos que se está realizando hacia el actual\n> equipo de trabajo.\n>\n> Siguiendo, como punto de partida, la reunión de informe de seguimiento\n> de Mayo 2022, en la que se desglosaban las necesidades surgidas en el\n> marco de los proyectos en curso, en relación a la salvaguarda de los\n> activos, las necesidades de los clientes del programa Turco y a la\n> tropicalización del programa Noruego, sumado a los nuevos\n> requerimientos surgidos por efectos de la pandemia y las propuestas de\n> modernización de los sistemas existentes, se han identificado diversos\n> puntos que pasaremos a comentar a lo largo del presente documento.\n\n### 2 Servicio de soporte general\n\n#### 2.1 Descripción general\n\n> Actualmente se está prestando servicio de soporte y mantenimiento a\n> los usuarios que contactan con nosotros, debemos estar pendientes de\n> las siguientes vías de comunicación:\n\n- Service Desk\n\n- Correo ⮚Teams\n\n#### 2.2 Situación actual\n\n> La vía principal de soporte es el Service Desk de Navantia, pero\n> algunas de las incidencias/solicitudes no quedan registradas en el\n> sistema debido a que en algunos casos, las herramientas como el correo\n> o el uso de Teams, hacen más fluida la comunicación y finalmente la\n> resolución del incidente. Véase InterArma, solicitudes Información GD\n> Históricos, servicios de correo e Interfaces con SAP, además de\n> soporte propio a la DTI y terceros (Plexus/Accenture)\n\n#####  2.2.1 Necor@V6\n\n- Resolviendo SD en cuanto a la solicitud constate de nuevos accesos al\n  aplicativo. El uso es mayor por la necesidad de consulta de\n  documentación base para los desarrollos de programas (buques) nuevos.\n\n- Resolución de SD relacionadas con incidencias genéricas por\n  obsolescencia de componentes para Visual Basic 6.\n\n- Resolución de SD derivados del uso extendido de los módulos Taquillas\n  y Pases de Vehículos críticos debido a la situación excepcional de\n  covid.\n\n- Alta de Personal para asignación de Taquillas. Nueva petición para\n  integración SAP.\n\n- Renovación constante de pases de vehículos. Alta demanda a finales de\n  mes (pases mensuales) y a finales de año (pases anuales)\n\n#####  2.2.2 PDB\n\n- Apoyo en la gestión de solicitudes de accesos a PDB\n\n- Cargas a PDB de proyectos históricos\n\n#####  2.2.3 Clientes Externos\n\n- Colapso por modificación masivas de Materiales desde SAP. Modificado\n  de característica que afectó a los servicios de SAP y Nécora.\n\n- Carga de Hojas Catálogo y Materiales con familias no tipadas aún en\n  PDB. (tipo M)\n\n- Revisión de procesos de carga diaria y por petición de usuarios tanto\n  finales como de la DTI.\n\n#### 2.3 Transferencia de conocimientos\n\n> Explicación de las herramientas actuales, como contactar y editar\n> Service Desk, usuarios más frecuentes y sus tiempos de respuesta, se\n> está realizando el soporte en conjunto.\n>\n> Se ha elaborado, y se está manteniendo, una lista de peticiones\n> frecuentes y resolución de incidencias para disponer de una guía de\n> solución y respuesta para cada uno de los casos más habituales o con\n> previsión de que puedan surgir.\n\n#### 2.4 Responsables\n\n- José Manuel Lago Varela\n\n- BCK - Adrián García Riera\n\n### 3 Proyectos históricos / PDB\n\n#### 3.1 Descripción general\n\nServicio de apoyo a proyectos históricos de datos a PDB, a día de hoy\nuna serie de aplicaciones Legacy siguen en activo y necesitan de nuestra\natención para su mantenimiento y supervisión.\n\n#### 3.2 Situación actual\n\nEn consonancia con las solicitudes constantes de acceso a Necor@, desde\nPDB se requiere del acceso a toda la documentación de programas como es\nel Noruego, Australiano, F100, etc, ….\n\nAdemás de la consulta de información, en algunos casos es necesaria la\nrevisión de información (Planos) debido a garantías aún vigentes (5º\nBAM - 0537) o modernización de Programas (Tropicalización F310)\n\n#####  3.2.1 Necor@V6\n\n- Garantizamos el correcto funcionamiento de las aplicaciones a través\n  Citrix y desde equipos cliente.\n\n- Actualmente se está dando soporte a las funcionalidades más en uso\n  como son Taquillas, Pases de Vehículo y Gestión Herramental.\n\n- La herramienta da accesibilidad a la información de consulta de datos\n  históricos de cualquiera de las otras entidades (OOTT, Pedidos, etc)\n\n#### 3.3 Transferencia de conocimientos\n\n#####  3.3.1 Necor@V6\n\nParte del equipo actual ya ha desempañado mantenimiento y análisis de\nesta aplicación y sus entidades, igualmente se hace una revisión, para\ncompletar documentación, de la arquitectura actual (cliente servidor\nCitrix), infraestructura (BBDD) o cómo realizar despliegues.\n\n#####  3.3.2 PDB\n\nConocimiento de la información histórica actual y revisión de la\ninformación disponible en la aplicación, así como la infraestructura y\nel negocio (BBDD DB2)\n\nTraspaso de información del nuevo modelo de datos. (NecoraNet) Formación\ny soporte en la utilidad de gestión de usuarios de PDB.\n\n#### 3.4 Responsables\n\n- José Manuel Lago Varela\n\n- BCK - Adrián García Riera\n\n### 4 Interfaces con Clientes Externos\n\n#### 4.1 Descripción general\n\nServicio de mantenimiento de los interfaces con clientes externos,\nincluye el mantenimiento de programas activos, programas en\nmantenimiento (F310 // Tropicalización) y programa base para nuevos\nbuques (F110).\n\n#### 4.2 Situación actual\n\nAtendiendo procesos de carga masiva a través de JOBs y revisión de\nnotificaciones automáticas.\n\n#####  4.2.1 Ecadat\n\n- Revisión de aplicativo, extracción, transformación y carga de\n  información entre distintos sistemas JOBs y entornos (ETL).\n\n**4.2.2 ETLs**\n\n- Procesos de traspaso de información e PDB a cliente externo.\n  (Australia, Noruega y Turquía)\n\n#####  4.2.3 Procesos manuales\n\n> ⮚La carga de información conlleva la carga de Datos Maestros que, en\n> algunos casos, requiere la intervención manual para este tipo de\n> carga. Además de esto, se requiere también de un análisis para adaptar\n> la información que tiene origen distinto a Necora como es el caso de\n> WindChill/ProjectWise (Astillero San Fernando)\n\n#### 4.3 Transferencia de conocimientos\n\nSe traslada la información necesaria con respecto a los componentes que\nse desencadenan en la migración. Revisión de aplicativo, extracción,\ntransformación y carga de información entre distintos sistemas JOBs y\nentornos (ETL).\n\nAprendizaje de los distintos flujos de negocio de la carga masiva de\nPlanos y de todas sus subentidades.\n\nServidores y bases de datos actuales, entornos de Test y Producción,\nrevisión de logs, etc, …\n\nRevisión de proyecto de TFS con los componentes de carga (ETLs) de\ninformación histórica.\n\nConocimientos en el traspaso de información de Gestión Documental tanto\nde Necor@ como sistemas externos (WindChill/ProjectWise)\n\n#### 4.4 Responsables\n\n- José Manuel Lago Varela\n\n- BCK - Adrián García Riera\n\n### 5 Soporte y mantenimiento InterArma – Galia\n\n#### 5.1 Descripción general\n\nServicio de soporte y mantenimiento de los interfaces de comunicación de\nInterArma - Galia Armada.\n\nEste aplicativo sirve para la gestión de Varadas Programadas o\nReparaciones puntuales en los Buques (Cádiz, Ferrol, San Fernando,\nCartagena).\n\nAunque la aplicación tiene previsión de quedar obsoleta a corto plazo,\nes posible que la carga de información se deba llevar a cabo, así como\nla revisión o comprobación de información histórica.\n\nAnexo a este aplicativo existe otro servicio Windows que se encarga de\ngestionar de manera automática la comunicación entre la Armada y\nNavantia (Galia)\n\n#### 5.2 Situación actual\n\n#####  5.2.1 InterArma\n\nTras la realización de todas las tareas adquiridas y desarrolladas a día\nde hoy sólo se está dando soporte.\n\n- Resolución de incidencias debido a desincronización de comunicaciones\n  Armada-Navantia.\n\n- Resolución de incidencias propias del aplicativo.\n\n- Peticiones solicitadas por usuarios finales, como son, nuevas tarifas.\n\n> **Está previsto que InterArma deje de tener funcionalidad a día\n> 31/12/2022**\n\n#####  5.2.2 Comunicación sistema Armada – Galia\n\nSe puede definir como un sistema de registro y notificación\ncomplementario a InterArma para el registro automático de Presupuestos y\nnotificaciones a los actores, acorde al estado de estos presupuestos.\n\n- Notificación en los cambios de estado de estos o incluso en el avance\n  de los trabajos de reparaciones realizados ⮚Control y Monitorización\n  en el envío/recepción.\n\n- Resolución de incidencias en el envío/recepción. En comunicación\n  constante con Navantia/Armada.\n\n#####  5.2.3 Línea de desarrollo \n\nEn proceso de desarrollo de mejora de funcionalidad, línea de desarrollo\nGalia en la que se está realizando el traslado de toda la lógica actual\na un sistema de microservicios que mejore y facilite la trazabilidad y\nmantenimiento de la herramienta.\n\nLa idea actual que se está siguiendo en la línea de desarrollo es la\ncreación de dos servicios independientes:\n\n- Uno de ellos se encargará de revisar el correo y guardarlo con la\n  posibilidad de escalarlo a más comunicaciones, no sólo la actual.\n\n- Otro se encargaría de procesar la información registrada, pudiendo\n  tener una mejor trazabilidad y escalabilidad.\n\n#### 5.3 Transferencia de conocimientos\n\nTransferencia de conocimientos sobre incidencias // comunicaciones\ncomunes, se crea y mantiene una guía de solución a estas tareas.\n\nParte del equipo de trabajo ha colaborado estrechamente en el análisis\nde lo que hay a día de hoy en funcionamiento para trasladar las\nfuncionalidades al nuevo desarrollo, por lo que ya se partía de un\namplio conocimiento de lo que hay a día de hoy.\n\n#### 5.4 Responsables\n\n- Roberto Sanchís Martínez\n\n- BCK - Sofía Casas López\n\n### 6 Integración con SAP\n\n#### 6.1 Descripción general\n\nServicio de mantenimiento de los interfaces con SAP de Necor@, PDB y\nresto de aplicaciones del departamento como GOPYP\n\nSistema desarrollado a medida que funciona como un Message Broker (MQ)\nque contiene una funcionalidad de entrada y otra de salida, guardado de\nlog, asegurado de información y reproceso de mensajes en caso de ser\nnecesario.\n\n#### 6.2 Situación actual\n\n- Asegurar la comunicación de la información entre sistemas SAP y\n  Necora/PDB.\n\n- En contina comunicación con Navantia/Accenture para asegurar la\n  confirmación de Integración y resolución a errores.\n\n- Posibilidad de añadir a corto plazo más sistemas a la comunicación\n  (Gopyp)\n\n- Actualmente Gopyp requiere información concerniente a los\n  Proyectos/Grafos por lo que se requiere de nuevos mantenimientos.\n\n- Añadir más datos maestros de SAP como son las Hojas de Catálogo o\n  Personal (Empleados)\n\n- El uso de Datos Maestros en PDB y Gopyp hace necesario que cada vez se\n  tenga más entidades actualizadas.\n\n#####  6.2.1 Línea de desarrollo \n\nPara mejorar los mantenimientos, pruebas, resolución de errores; el\ncódigo actual de T-SQL (procedures) será migrado a C# para mantener una\núnica fuente de codificación, por lo que se migrará código de .Net FK\n4.8 a .Net 5/6 con arquitectura de Microservicios\n\nEstos microservicios contarán con la posibilidad de Dockerizar. Esto\nabstraería estas app del SO con lo que los despliegues o cambios de\nversión serían más sencillos, además de la posibilidad de despliegues en\nservidores Linux. Además de esto, posibilita la traza de errores,\ndepuración de código y despliegues con menor impacto. Arquitectura\nMicroservicios es un tipo de metodología de desarrollo en la que muchas\nempresa TIC desarrollo sus productos.\n\nSe está iniciando un desarrollo de microservicio por entidad\n(Materiales, Proveedores y Proyecto) que integre la mensajería, abriendo\nla posibilidad de añadir un gestor de colas para que se consuma a través\nde NecoraNet (sistema actual), GOPYP 4.0 u otros aplicativos.\n\nEste planteamiento de arquitectura sería un siguiente paso en la mejora\nde trazabilidad y escalabilidad de la aplicación, con esto queremos\ndecir que, si existen nuevas entidades para integrar en SAP, como\nEmpleados y Hojas de Catálogo, se podría dar una rápida respuesta y\nademás facilitaría el integrar otras aplicaciones que consuman esta\ninformación.\n\n#### 6.3 Transferencia de conocimientos\n\nEl equipo de trabajo actual ya colaboró en parte del análisis de las\nfuncionalidades anteriores para la realización de esta migración\nindependientemente de eso se ha realizado un repaso a:\n\n- Herramientas actuales, cómo contactar y editar Service Desk\n\n- Traspaso de conocimientos del sistema actual, arquitectura BBDD,\n  tablas, código fuente y herramientas usadas ⮚Funcionalidades de\n  entornos de Test y Producción y realización de despliegues\n\n#### 6.4 Responsables\n\n- Sofía Casas López\n\n- BCK - Roberto Sanchís Martínez\n\n### 7 Migración de aplicaciones a arquitectura RADAR\n\n**7.1 Descripción general**\n\nServicio de modernización de las aplicaciones Necor@ para migrarlas a\narquitectura RADAR asegurando su mantenibilidad.\n\n#### 7.2 Situación actual\n\nCon el fin de unificar en una única app la gestión de procesos se está\nrealizando un análisis de esta arquitectura Radar para la posibilidad de\nnuevos desarrollos. Actualmente PDB y EOLO están en uso de este tipo de\narquitectura.\n\nElaboración y mantenimiento de un manual y guía rápida para la creación\nde proyectos en PDB usando Radar. Esta guía contiene una explicación\npara poder crear y ejecutar proyectos en Radar, así como pasos a seguir\npara integrar, depurar y testear.\n\nContribuir a dar un mejor soporte a usuarios finales y DTI en cuanto a\nresolución de problemas tanto técnicos como lógicos (pe: ciclos de vida\nde un plano)\n\nSe están manteniendo reuniones frecuentes con DTI Navantia para la\npresentación de proyecto en Test, pendiente de feedback por Navantia y\nusuarios finales para mejora de procesos\n\n#####  7.2.1 Línea de desarrollo \n\nSe está trasladando las funcionalidades más activas de Necor@V6 al\naplicativo NecoraNet con arquitectura Radar. Este traslado exige también\nun modelo de datos nuevos y la migración de la información a NecoraNet.\n\nActualizando para Radar 3.0 con Entity Framework 6 y guía de despliegue\nde aplicaciones, Script de BBDD y carga de información\n\nA día de hoy se está en fase de entrega de Gestión de Taquillas y\nVestuarios y a futuro se pretende migrar las funcionalidades de Pases de\nvehículo y Gestión Herramental\n\nJunto a los puntos anteriores se actualizará la documentación ya\nexistente para que esté disponible tanto para Navantia como terceros.\n\n#### 7.3 Transferencia de conocimientos\n\nSe comparten los conocimientos obtenidos sobre la aplicación de Radar\npara poder seguir con las líneas de desarrollo de integración en esta\naplicación.\n\nConocimiento de la arquitectura y de los componentes cliente, servidor y\nbase de datos así como pasos para la realización de despliegues y\nresolución de posibles incidentes relacionados con la aplicación.\n\nEstudio de soluciones NecoraNet, código fuente TFS y lógica de negocio.\n\nSe ha recibido formación impartida para Radar por Inetum para el\naprendizaje a nivel teórico/práctico de los desarrollos de\nRadar/NecoraNet.\n\nSe da una formación a mayores, con todo lo aprendido antes de la\nformación oficial, y sobre cómo adaptar lo ya realizado a la\narquitectura y estructura común del código ya existente.\n\nCon este base se comienza a modificar algunos desarrollos que se\nenfocaron de forma distinta por no tener conocimiento completo de la\narquitectura.\n\nElaboración de guías rápidas y primeros pasos para los futuros correctos\ndesarrollos de cualquier funcionalidad necesaria.\n\n#### 7.4 Responsables\n\n- Adrián García Riera\n\n- BCK - José Manuel Lago Varela\n\n### 8 Gestión de la obsolescencia\n\n#### 8.1 Descripción general\n\nHay que estar pendientes de las actualizaciones y que no quede ningún\nproyecto sin funcionalidad o con posibles brechas de seguridad por\ncaducidad en su soporte oficial.\n\n#### 8.2 Situación actual\n\n#####  8.2.1 Migración de Bases de Datos SQL Server\n\n> Reducir el número de Motores SQL Server obsoletos o con riesgos de\n> seguridad.\n>\n> Mínima versión SQL Server />= 2012.\n>\n> Base de datos de test para Proyectos con Clientes Externos (Australia,\n> Noruega y Turquía).\n>\n> Base de datos de Producción para aplicativos como InterArma o Gestor\n> de Notificaciones Galia.\n\n#####  8.2.2 Migración de aplicaciones para ejecutar en W10\n\n> Evitar uso de SO con obsolescencia o sin soporte estableciendo\n> versiones mínimas como son Windows 10 y Windows Server 2008.\n>\n> En proceso de migración de código existente en VSS (Visual Source\n> Safe) a TFS y posibilidad de ejecutar aplicaciones desarrolladas en\n> VB6 en equipos W10. Pendiente InterArma.\n\n#### 8.3 Transferencia de conocimientos\n\nEstamos al tanto de estas situaciones y nos mantenemos muy pendientes de\nlas necesidades de migración o propuestas de soluciones actualizadas.\n\n#### 8.4 Responsables\n\n- José Manuel Lago Varela\n\n- BCK - Adrián García Riera\n\n### 9 Progreso actual en el ciclo de traspaso de conocimientos\n\n<img src=\"C:/PROYECTOS_GPT/wiki_documental/wiki/assets/media/image6.jpg\"\nstyle=\"width:9.39097in;height:1.97708in\" />\n\n**Plan de transferencia de conocimientos**\n\n**Ref. TC_202211**\n\n> 16\n>\n> **ANEXO I – Service Desk atendidos por los grupos relacionados con\n> Necora/PDB desde enero del 2022**\n\n**Plan de transferencia de conocimientos**\n\n**Ref. TC_202211**\n\n<table>\n<colgroup>\n<col style=\"width: 16%\" />\n<col style=\"width: 5%\" />\n<col style=\"width: 6%\" />\n<col style=\"width: 5%\" />\n<col style=\"width: 6%\" />\n<col style=\"width: 6%\" />\n<col style=\"width: 6%\" />\n<col style=\"width: 6%\" />\n<col style=\"width: 8%\" />\n<col style=\"width: 6%\" />\n<col style=\"width: 6%\" />\n<col style=\"width: 5%\" />\n<col style=\"width: 10%\" />\n</colgroup>\n<thead>\n<tr>\n<th rowspan=\"2\" style=\"text-align: left;\"></th>\n<th colspan=\"2\" style=\"text-align: left;\"><blockquote>\n<p><strong>2022</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th rowspan=\"2\" style=\"text-align: center;\"><strong>Cuenta\n2022</strong></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Ene</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\"><strong>Feb</strong></th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Mar</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\"><strong>Abr</strong></th>\n<th style=\"text-align: left;\"><strong>May</strong></th>\n<th style=\"text-align: left;\"><strong>Jun</strong></th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Jul</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\"><strong>Ago</strong></th>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Sep</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\"><strong>Oct</strong></th>\n<th style=\"text-align: left;\"><strong>Nov</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\"><strong>Incidencia</strong></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>29</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>37</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>35</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>13</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>15</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>19</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>7</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>9</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>19</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>16</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>11</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><strong>210</strong></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><strong>Solicitud</strong></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>41</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>29</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>24</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>26</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>13</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>32</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>9</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>11</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>40</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>36</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>18</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><strong>279</strong></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><strong>Total general</strong></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>70</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>66</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>59</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>39</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>28</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>51</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>16</strong></p>\n</blockquote></td>\n<td style=\"text-align: center;\"><blockquote>\n<p><strong>20</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>59</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>52</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>29</strong></p>\n</blockquote></td>\n<td style=\"text-align: left;\"><blockquote>\n<p><strong>489</strong></p>\n</blockquote></td>\n</tr>\n</tbody>\n</table>\n\n> 17\n"
  },
  {
    "title": "1. Objeto del documento",
    "path": "2_1-objeto-del-documento.md",
    "body": "---\nsource: EstadoActualPlataformaBBD_V0306_10_32.md\ndoc_source: EstadoActualPlataformaBBD_V0306_10_32.docx\ncreated: 2025-06-15T23:33:05.569356\n---\n<div class=\"fragment-meta\">source: EstadoActualPlataformaBBD_V0306_10_32.md | doc: EstadoActualPlataformaBBD_V0306_10_32.docx | created: 2025-06-15T23:33:05.569356</div>\n\n# 1. Objeto del documento \n\nEl presente documento tiene como objetivo describir el estado\ntecnológico actual de la plataforma de bases de datos de Navantia. Esto\nincluye un análisis detallado de componentes clave como NecoraNet, PRYC,\nlas instancias de SQL Server 2017-2022, los servicios IIS (MASERVF9) y\nsus integraciones con SAP. Para ello, se llevará a cabo un inventario\nexhaustivo que abarque servidores, instancias, bases de datos, enlaces y\nflujos ETL.\n\nLa información recopilada se consolidará a partir de actas de proyecto,\ntickets GLPI y seguimientos de dedicación hasta mayo de 2025,\nproporcionando así una visión única, trazable y homologada que será de\nutilidad para los equipos de DBA y la auditoría interna.\n\nEl resultado de este análisis servirá como línea base para el soporte\noperativo diario y para la planificación de futuras optimizaciones o\nmigraciones, incluyendo Azure SQL MI, RISE with SAP, nuevos flujos ETL,\nasí como la migración progresiva a SQL Server 2022 y versiones\nposteriores.\n\n"
  },
  {
    "title": "2. Descripción del sistema actual",
    "path": "3_2-descripcion-del-sistema-actual.md",
    "body": "---\nsource: EstadoActualPlataformaBBD_V0306_10_32.md\ndoc_source: EstadoActualPlataformaBBD_V0306_10_32.docx\ncreated: 2025-06-15T23:33:05.570358\n---\n<div class=\"fragment-meta\">source: EstadoActualPlataformaBBD_V0306_10_32.md | doc: EstadoActualPlataformaBBD_V0306_10_32.docx | created: 2025-06-15T23:33:05.570358</div>\n\n# 2. Descripción del sistema actual \n\n> <img src=\"C:/PROYECTOS_GPT/wiki_documental/wiki/assets/media/image2.jpg\"\n> style=\"width:8.13681in;height:5.02083in\" />\n\nLa arquitectura actual de bases de datos de Navantia, ilustrada en el\nesquema proporcionado, presenta un ecosistema estructurado en instancias\nde SQL Server. Estas instancias están distribuidas según su función y\námbito geográfico, formando agrupaciones que representan entornos\nlógicos orientados a servicios específicos, tales como producción,\ncatálogo, integración y almacenamiento histórico.\n\nLos principales elementos son:\n\n## 2.1. Núcleo HOSTDB2 (<sub>MASQL20171/HOSTDB2</sub>)\n\nEsta instancia alberga las bases de datos **V6**, **V6_2** y **DB2P**,\nherederas del entorno z/OS. HOSTDB2 centraliza información histórica\nmigrada desde el sistema HOST, actuando como fuente para múltiples\nréplicas hacia otras instancias. Se alimenta mediante copias de\nseguridad y mantiene relaciones directas con bases de datos de catálogo\ny explotación, asegurando la integridad y disponibilidad de la\ninformación histórica crítica.\n\n"
  },
  {
    "title": "**2.2. Plataforma Necor@ clásica (<sub>MASQL20142/SQL20142</sub>)**",
    "path": "4_22-plataforma-necor-clasica-submasql20142sql20142sub.md",
    "body": "---\nsource: EstadoActualPlataformaBBD_V0306_10_32.md\ndoc_source: EstadoActualPlataformaBBD_V0306_10_32.docx\ncreated: 2025-06-15T23:33:05.571321\n---\n<div class=\"fragment-meta\">source: EstadoActualPlataformaBBD_V0306_10_32.md | doc: EstadoActualPlataformaBBD_V0306_10_32.docx | created: 2025-06-15T23:33:05.571321</div>\n\n# **2.2. Plataforma Necor@ clásica (<sub>MASQL20142/SQL20142</sub>)**\n\nEsta plataforma agrupa la base de datos **Necor@NC**, utilizada por\naplicaciones legadas como ECADAT y para la integración con **SAP** en la\ngestión de hojas de catálogo y materiales. Su función principal es\nservir como punto de entrada para datos técnicos (materiales,\ningeniería), que posteriormente se redistribuyen a otras instancias,\nfacilitando la interoperabilidad y el flujo de información entre\nsistemas.\n\n"
  },
  {
    "title": "**2.3. Plataforma Necor@ extendida (<sub>MASQL20142/NECORANET</sub>)**",
    "path": "5_23-plataforma-necor-extendida-submasql20142necoranetsub.md",
    "body": "---\nsource: EstadoActualPlataformaBBD_V0306_10_32.md\ndoc_source: EstadoActualPlataformaBBD_V0306_10_32.docx\ncreated: 2025-06-15T23:33:05.571321\n---\n<div class=\"fragment-meta\">source: EstadoActualPlataformaBBD_V0306_10_32.md | doc: EstadoActualPlataformaBBD_V0306_10_32.docx | created: 2025-06-15T23:33:05.571321</div>\n\n# **2.3. Plataforma Necor@ extendida (<sub>MASQL20142/NECORANET</sub>)**\n\nEste entorno funcional de AWD incluye bases de datos como\n**NecoraDocAWD**, **InterfacesAWD_PEC**,\n\n**Necor@AWD** y **NAI_InterfacesAWD**. Además, incorpora el servidor de\ninformes\n\n**REPORTSERVERSNECORANET**, que explota datos de todas las bases\nanteriores e integra herramientas como Power BI y otras soluciones\ninternas. Desde esta instancia, se consolidan datos provenientes de\notras instancias a través del objeto **PDB**, que actúa como origen\ncomún para clientes satélites y operaciones cruzadas, optimizando la\ngestión y análisis de datos.\n\n### 2.4. Clientes internacionales (SQL Server 2022)\n\nLas instancias **MASQL20221/SQLTURK** y **MASQL20221/SQLNORWAY** están\ndiseñadas específicamente para los contratos de Turquía y Noruega,\nrespectivamente, y albergan la base de datos **Necor@AWD**. Ambas\ninstancias consumen datos del objeto **PDB** y cuentan con procesos ETL\npara la replicación, validación y extracción específica por proyecto.\nCada una de estas instancias opera de manera sincronizada gracias a\nenlaces definidos, que incluyen copias de seguridad, servicios ETL y\nreplicaciones manuales, lo que permite mantener la consistencia y\ntrazabilidad de los datos. Este diseño modular refleja una arquitectura\nevolutiva orientada a clientes distribuidos, aislando entornos según su\nuso y país, y asegurando la adaptabilidad a requisitos locales.\n\n### 2.5. Servicios intermedios (MASERVF9)\n\n## El servidor IIS 10, configurado como pasarela de integración entre SAP PO y SQL Server, actúa como intermediario en la comunicación de datos. Expone Web Services REST/SOAP que permiten a SAP consultar datos de materiales y recibir confirmaciones de manera segura. Se comunica directamente con HOSTDB2.V6 a través de ODBC y opera en un puerto fijo (58898), controlado por un firewall y validado por el departamento de Ciberseguridad.\n\n## MASERVF9 es el host Windows Server 2019 (10.100.161.76) que reemplaza al antiguo MANECNET como punto único de integración SOAP entre SAP PO y Necor@. Desde noviembre de 2024, aloja:\n\n## Web Service NecoraWebIntegrator.svc — expuesto en IIS 10, puerto 80.\n\n## Carpetas de intercambio NecoraSAP/Request/|Response con permisos NTFS equivalentes a los de\n\n> MANECNET.\n\n## Cliente SQL Native 11 para conectividad con MASQL20171/HOSTDB2 .\n\n- Agente de monitorización Centreon (plantilla *IIS 10*).  Repositorio\n  de archivos de ingeniería y producción.\n\n## Este servidor concentra ahora los flujos M-AT (*SetInfoMateriales*) y Login, que sincronizan el material maestro entre SAP y la base V6 . Su consolidación elimina dependencias de hardware obsoleto y simplifica la matriz del firewall corporativo, mejorando la eficiencia operativa y la seguridad de las comunicaciones.\n\n.\n\n### 2.6. Flujos de carga y extracción\n\nEl sistema de bases de datos de Navantia incorpora una serie de\n**paquetes SSIS** (SQL Server Integration Services), **planificaciones\nde SQL Server Agent** y validaciones CRC (Control de Redundancia\nCíclica) que aseguran la integridad en cada operación de lectura, carga\no replicación de datos. Estos flujos están cuidadosamente definidos\nsegún el país, cliente y uso funcional, abarcando tareas como la\ngeneración de informes, procesos ETL nocturnos y la sincronización de\ncatálogos.\n\nCada flujo es auditado mediante registros detallados (logs) y\ncomprobaciones periódicas, lo que permite una supervisión continua y la\ncapacidad de identificar y resolver rápidamente cualquier anomalía que\npueda surgir.\n\n## El modelo de datos actual se caracteriza por su arquitectura modular, desacoplada y orientada al cliente . Esta estructura permite la existencia de instancias dedicadas por función, país o sistema fuente, lo que garantiza una trazabilidad completa desde el origen en SAP hasta la entrega final en Necor@. Esta orientación modular no solo facilita la gestión y el mantenimiento del sistema, sino que también asegura que las necesidades específicas de cada cliente y región sean atendidas de manera eficiente y efectiva.\n\n"
  },
  {
    "title": "3. Detalle técnico por servidor/instancia",
    "path": "6_3-detalle-tecnico-por-servidorinstancia.md",
    "body": "---\nsource: EstadoActualPlataformaBBD_V0306_10_32.md\ndoc_source: EstadoActualPlataformaBBD_V0306_10_32.docx\ncreated: 2025-06-15T23:33:05.573323\n---\n<div class=\"fragment-meta\">source: EstadoActualPlataformaBBD_V0306_10_32.md | doc: EstadoActualPlataformaBBD_V0306_10_32.docx | created: 2025-06-15T23:33:05.573323</div>\n\n# 3. Detalle técnico por servidor/instancia \n\n## 3.1. MASQL20171/HOSTDB2\n\nLa instancia MASQL20171/HOSTDB2 funciona como el **nodo central de\nconsolidación** tras el apagado del entorno HOST (DB2/VSAM).\nImplementada sobre SQL Server 2017 CU31, concentra todas las bases de\ndatos migradas desde el ecosistema mainframe, así como los esquemas\ntécnicos heredados de instancias auxiliares como FESRV014 y MAHOST.\n\n### 3.1.1. Características generales\n\n**Rol:** Nodo central de consolidación tras el apagado del entorno HOST\n(DB2/VSAM) **Versión:** SQL Server 2017 CU31.\n\n**Bases de datos:** V6, V6_2, DB2T, DB2P **Conexiones entrantes:**\n\n- MASERVF9 (vía ODBC desde IIS/WebService) o MASQL20142/NECORANET\n  (lectura cruzada) o Objeto PDB (consulta y consolidación de datos)\n\n**Conexiones salientes:** Réplicas parciales y flujos ETL hacia\nNecoraNet, SQLTURK y SQLNORWAY.\n\n**Parámetros relevantes:**\n\n- Puerto TCP fijo 58898 (asignado en nov. 2024, validado por\n  Ciberseguridad) o Compresión de datos tipo ROW\n\n- Collation: SQL_Latin1_General_CP1_CI_AS\n\n**Cambios recientes:** Generación de la copia V6_2.\n\nEsta instancia proporciona datos operativos y documentales a múltiples\nservicios de negocio, incluyendo SAP, Necor@NET y reporting externo. Los\nprocesos de carga, validación e indexado están diseñados para garantizar\nestabilidad, trazabilidad y rendimiento.\n\n### 3.1.2. Contenido migrado\n\nMASQL20171/HOSTDB2 almacena la información consolidada desde tres\norígenes principales:\n\n<table>\n<colgroup>\n<col style=\"width: 12%\" />\n<col style=\"width: 31%\" />\n<col style=\"width: 56%\" />\n</colgroup>\n<thead>\n<tr>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Origen</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Destino en SQL Server</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Descripción</strong></p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">HOST DB2</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>DB2T / DB2P</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Copia exacta de tablas fuente dentro del alcance. Carga vía paquete\nMoveDataDB2ToSQLServer.</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">FESRV014</th>\n<th><blockquote>\n<p>HOSTDB2 (diversos esquemas)</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Bases de datos ControlDoc, ControlAsuntos, etc. Job:\nMoveAppAuxToNewNecor@.</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">MAHOST</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>HOSTDB2.DB2T (esquema a esquema)</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Bases DBFERR, DBCART, DBMADR, DBSFER. Job:\nPackageMAHOST_a_DB2T.dtsx.</p>\n</blockquote></th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n\n### 3.1.3. V6 y creación de V6_2\n\nLa base de datos V6 contiene los datos de **Necor@V6** tras la\nmigración. Durante el proceso, se detectó que algunas vistas aplicaban\nfiltros que impedían consultar el histórico completo desde Necor@. Para\nsolucionarlo:\n\n- Se creó la base V6_2, réplica exacta de V6 sin filtros de migración.\n\n- Se generaron nuevas vistas /_V sobre V6_2.\n\n- Se reemplazaron los sinónimos en V6 para que apunten a estas vistas no\n  filtradas.\n\n- Las vistas originales se renombraron como /_BKP para permitir\n  comparativas de rendimiento.\n\n- Se reforzaron índices en tablas clave (BO12SQ, BO59SQ, BO80SQ, etc.) y\n  se revisaron procedimientos (PR_NC_CONSULTA_OPERACIONES, etc.).\n\nEsta estrategia permite que **Necor@V6 acceda al histórico completo sin\nafectar al código existente**, manteniendo la trazabilidad y cumpliendo\nrequerimientos funcionales de Ingeniería y Auditoría.\n\n.\n\n### 3.1.4. Antecedentes del proyecto HOST\n\nEl proyecto HOST se concibió como una iniciativa de migración y\nmantenimiento de los sistemas legacy (DB2/VSAM), gestionándose bajo un\nmodelo mixto que combina soporte y transferencia de conocimiento. En\ncolaboración con Altia Consultores, se llevaron a cabo tareas de\nmantenimiento correctivo y adaptativo, así como procesos de migración\nescalonada.\n\nEsta colaboración se alineó con las prácticas ITIL y los estándares\nISO/IEC 20000, estableciendo una infraestructura de servicio que incluyó\nindicadores de calidad (SLA), herramientas de gestión, dedicación de\nrecursos y mecanismos de seguimiento tanto semanal como mensual. Además,\nse garantizó una cobertura integral sobre aplicaciones críticas (Necora,\nCoral, ControlDoc, Brion, entre otras) mediante soporte de tercer nivel\ny supervisión de procesos en explotación.\n\nEl acuerdo contemplaba una planificación detallada de proyectos,\natención 24x7 para casos críticos y controles de calidad periódicos. Se\ndocumentaron procedimientos para el análisis y resolución de incidentes,\ngestión de problemas y planificación de desarrollos, lo que permitió\nasegurar la continuidad del servicio durante la migración al entorno SQL\nServer (MASQL20171/HOSTDB2) sin pérdida de operatividad.\n\nEl proyecto de migración HOST se inició el **12 de septiembre de 2019**\ny se estructuró en dos fases:\n\n- **Fase I – Migración técnica:** de septiembre de 2019 a julio de 2020.\n\n- **Fase II – Soporte y cierre definitivo:** de julio a diciembre de\n  2020.\n\n**Objetivos del proyecto:**\n\n- Eliminar el sistema HOST (z/OS + DB2 + VSAM).\n\n- Garantizar la continuidad operativa en Necor@NET y PRYC.\n\n- Mantener los interfaces activos con clientes externos.\n\n- Migrar la información documental y estructural a un entorno soportado\n  (SQL Server 2017).\n\n**Logros y aspectos técnicos:**\n\n- Más de **30 tablas y 4 ficheros VSAM** migrados utilizando IBM\n  DataUnload.\n\n- Pruebas de carga realizadas en el entorno staging (FESRV053) y New\n  PRYC.\n\n- Validación funcional con la obra 7564 (Turbinas) como proyecto piloto.\n\n- Generación de documentación de procesos y reglas de negocio aplicadas\n  a interfaces AWD.  Integración de cargas documentales desde\n  Windchill.\n\n**Riesgos abordados:**\n\n- No disponibilidad del entorno HOST de desarrollo.\n\n- Falta de programas COBOL (por ejemplo, PE46FV).\n\n- Ausencia de estimación de tamaños de bases de datos debido a retrasos\n  con VSAM.\n\n- Problemas de permisos y catálogo con IBM.\n\n- Recursos técnicos limitados (servidores, estaciones de trabajo,\n  permisos).\n\n**Participantes clave:**\n\n**Área Personal asignado**\n\n> Migración de datos DB2 Navantia: F. Amor, A. Rodríguez · Altia: J.R.\n> Tubío, D. Vega, J. Díaz\n>\n> Interfaces Externos Navantia: Y. Castiñeira, F. Bordello · Altia:\n> mismos Obra de Turbinas Navantia: F. Bordello · Altia: D. Vega\n\n**Fechas clave:**\n\n- Fin de migración técnica: **15 de julio de 2020**.\n\n- Cierre del entorno HOST: **31 de diciembre de 2020**.\n\n- Desactivación de IBM y licencias: **Q4 2020**.\n\n<img src=\"C:/PROYECTOS_GPT/wiki_documental/wiki/assets/media/image3.jpg\"\nstyle=\"width:6.33819in;height:1.39583in\" />\n\n### 3.1.5. Interfaces SSIS en entorno HOST consolidado (AWD/ALHD)\n\nEn el marco del proyecto de migración del entorno HOST, se definieron y\ndesplegaron múltiples paquetes SSIS bajo la codificación\nINTERFACES_AWD_ALHD_SSIS. Estos paquetes están orientados a la\nintegración y consolidación de datos técnicos, documentos y órdenes\nasociadas a los sistemas heredados, facilitando la automatización de\ntareas críticas.\n\n> **(a) Funciones de los Paquetes SSIS**\n\nLos paquetes SSIS permiten la automatización de las siguientes tareas\ncríticas:\n\n- **Extracción y limpieza de datos:** Utilizando paquetes como\n  /_AtributosConfig.dtsx y /_LimpiarLogs.dtsx, se asegura la integridad\n  y calidad de los datos extraídos.\n\n- **Actualización de estados en tablas funcionales:** El paquete\n  /_StatusDeleted.dtsx gestiona la actualización de estados, asegurando\n  que las tablas reflejen el estado actual de los registros.\n\n- **Consolidación de documentos técnicos:** Paquetes como\n  Documentos_tecnicos/_/*.dtsx consolidan documentos técnicos,\n  garantizando que toda la información relevante esté centralizada y\n  accesible.\n\n- **Gestión documental completa:** Los paquetes\n  Gestion_Documental/_/*.dtsx abarcan revisiones, anexos, secciones y\n  ficheros, proporcionando una gestión integral de los documentos.\n\n- **Interfaces con MEL y materiales:** Los paquetes MEL_LME/_/*.dtsx\n  facilitan la integración con sistemas de materiales, asegurando que\n  los datos estén alineados con los requerimientos técnicos.\n\n- **Interfaces con el entorno EEA5:** Paquetes como EEA5.dtsx y\n  EEA5_DB2.dtsx permiten la comunicación y sincronización con el entorno\n  EEA5, asegurando que los datos sean consistentes y actualizados.\n\n> **(b) Características Técnicas**\n\nLos scripts SSIS incluyen lógica avanzada para:\n\n- **Detección de registros huérfanos:** Identificación y manejo de\n  registros que no tienen correspondencia en otras tablas, asegurando la\n  integridad referencial.\n\n- **Actualizaciones incrementales:** Implementación de actualizaciones\n  que solo afectan a los registros modificados, optimizando el\n  rendimiento y reduciendo la carga del sistema.\n\n- **Verificación de consistencia:** Uso de checksum para asegurar que\n  los campos clave mantienen su consistencia, evitando discrepancias en\n  los datos.\n\n- **Limpieza de registros obsoletos:** Eliminación de registros con\n  estado status = 'DELETED', asegurando que la base de datos no acumule\n  información innecesaria.\n\nAdemás, se emplea el objeto UpdateNotice como mecanismo de auditoría de\nejecución para los procesos de carga diarios, proporcionando un registro\ndetallado de las operaciones realizadas y facilitando el seguimiento y\ncontrol de las mismas.\n\n## 3.2. MASQL20142/SQL20142 – (MASQL20222)\n\nInstancia **SQL Server 2014 SP3** que sostiene el núcleo histórico de\n*Necor@NC*. Aunque se planificó su retirada junto con el resto de\nplataformas *legacy*, continúa en producción porque varios módulos de\ningeniería siguen dependiendo de esquemas y rutinas específicas que aún\nno se han portado a versiones superiores.\n\n### 3.2.1. Características generales\n\n**Rol:** Plataforma Necor@NC (entorno legado).\n\n**Versión:** SQL Server 2014 SP3.\n\n**Bases de datos:** Necor@NC.\n\n**Conexiones entrantes:** ECADAT, SAP (vía interfaces HojasCatálogo).\n\n**Conexiones salientes:** HOSTDB2 y NECORANET para consolidación.\n\n**Parámetros relevantes:** Puerto dinámico, sin integración AD,\ncollation por defecto. **Cambios recientes:** — Información no\ndisponible.\n\n### 3.2.2. Contexto y dependencias\n\n## La instancia alberga exclusivamente la base de datos Necor@NC, empleada por los módulos de ingeniería y aplicaciones internas como ECADAT. Su integración con SAP se limita a las operaciones de catálogo de materiales mediante HojasCatálogo. Los enlaces externos son reducidos; la transferencia principal se dirige a NECORANET para consolidación de datos.\n\nPese a su carácter legacy, la plataforma continúa operativa mientras\npersistan las dependencias funcionales de los módulos de ingeniería. Su\nretirada definitiva está condicionada a la migración completa de dichos\nesquemas y rutinas a versiones superiores de SQL Server.\n\n## 3.3. MASQL20142/NECORANET – (MASQL20222)\n\nInstancia SQL Server 2017 CU22 que funciona como plataforma funcional\nAWD y capa de informes para el ecosistema Necor@AWD. Su diseño soporta\ntanto la gestión documental como los flujos técnicos y la explotación de\ndatos, con un modelo de trabajo dual que facilita la gestión interna y\nla distribución internacional de información.\n\n### 3.3.1. Características generales\n\n- **Rol:** Plataforma funcional AWD y capa de informes.\n\n- **Versión:** SQL Server 2017 CU22.\n\n- **Bases de datos:** Necor@AWD, InterfacesAWD_PEC, NAI_InterfacesAWD,\n  NecoraDocAWD.\n\n- **Conexiones entrantes:** SQL20142, HOSTDB2, PDB, usuarios BO.\n\n- **Conexiones salientes:** SQLTURK, SQLNORWAY, ReportServer.\n\n- **Parámetros relevantes:** Memoria fija asignada (32 GB), estadísticas\n  automáticas activadas, jobs de mantenimiento semanales.\n\n- **Cambios recientes:** o Optimización de vistas y reestructuración de\n  Interfaces PEC (junio–julio 2020). o Implantación de auditoría interna\n  mediante tabla log /_Audit_Changes. o Normalización de estructuras\n  para compatibilidad internacional.\n\n### 3.3.2. Contexto y dependencias\n\nEsta instancia se emplea principalmente para la gestión y explotación\nfuncional dentro del entorno Necor@AWD, cubriendo diversos ámbitos:\ngestión documental (NecoraDocAWD), procesamiento de flujos técnicos\n(InterfacesAWD_PEC, NAI_InterfacesAWD) y explotación de datos\n(Necor@AWD).\n\nAdemás, aloja el servidor de informes REPORTSERVERSNECORANET, que\nfacilita la publicación de dashboards y consultas externas. También\nintegra el objeto PDB, que centraliza y consolida información de\nmúltiples fuentes para su distribución a instancias internacionales.\n\nEl modelo operativo se basa en una dualidad entre la gestión interna de\ndatos y la preparación de flujos estructurados hacia entornos remotos\n(SQLTURK y SQLNORWAY), a través del objeto PDB que actúa como puente\nlógico. Este diseño asegura la coherencia estructural y minimiza el\nacoplamiento entre esquemas, facilitando la interoperabilidad con\nclientes internacionales.\n\nEn 2020 se llevó a cabo un proceso de optimización orientado a mejorar\nel rendimiento, reorganizando vistas y creando sinónimos funcionales.\nAsimismo, se implementó un sistema de auditoría a nivel de registros\npara reforzar la trazabilidad.\n\n- **InterfacesAWD_PEC:** Utilizada como puente para el traspaso de\n  información entre sistemas.\n\n- **NAI_InterfacesAWD:** Base de datos intermedia que centraliza datos\n  de origen para su derivación hacia instancias externas.\n\n## 3.4. MASQL20221/SQLTURK\n\nInstancia SQL Server 2022 CU8 dedicada a la gestión de contratos\nespecíficos para Turquía, operando de forma autónoma dentro del\necosistema Necor@AWD para garantizar segregación funcional y geográfica.\n\n### 3.4.1. Características generales\n\n- **Rol:** Instancia internacional dedicada a contratos Turquía.\n\n- **Versión:** SQL Server 2022 CU8.\n\n- **Bases de datos:** Necor@AWD.\n\n- **Conexiones entrantes:** Réplicas desde PDB (NECORANET).\n\n- **Conexiones salientes:** Flujos ETL hacia cliente, reporting\n  específico.\n\n- **Parámetros relevantes:** Compresión de columnas, alertas\n  personalizadas SQL Agent.\n\n- **Cambios recientes:** o Despliegue inicial y validación funcional\n  completada (2025Q1). o Implementación de ETL segregado por región. o\n  Control de errores y lógica de CRC en flujos nocturnos.\n\n### 3.4.2. Contexto y dependencias\n\nEsta instancia está destinada exclusivamente a la gestión y explotación\nde datos relacionados con contratos de Turquía, integrando su propia\ncopia de Necor@AWD para operar con independencia y garantizar la\nseguridad y el aislamiento requerido.\n\nLa alimentación de datos se realiza mediante flujos ETL diarios que\nreplican información desde el objeto PDB alojado en NECORANET. Los\nprocesos incorporan validaciones de integridad basadas en CRC (Control\nde Redundancia Cíclica), junto con mecanismos personalizados de\ntrazabilidad y notificación para la detección y gestión de errores.\n\nEl diseño de esta instancia persigue asegurar la segregación funcional y\ngeográfica, respondiendo a los requerimientos contractuales en materia\nde aislamiento de datos, soporte técnico y control de accesos.\n\nActualmente, la base de datos que alimenta el PDB de Turquía está en\nfase de migración, con vistas al apagado progresivo de la instancia\nlegacy MASQL2014/SQLTURK.\n\n## 3.5. MASQL20221/SQLNORWAY\n\nInstancia SQL Server 2022 CU8 orientada a la gestión y soporte de\nproyectos en Noruega, diseñada para operar con independencia mediante\nréplicas desde el PDB general.\n\n### 3.5.1. Características generales\n\n- **Rol:** Instancia internacional para proyectos Noruega.\n\n- **Versión:** SQL Server 2022 CU8.\n\n- **Bases de datos:** Necor@AWD.\n\n- **Conexiones entrantes:** Réplicas desde PDB.\n\n- **Conexiones salientes:** Power BI Service, validación en Azure VDI.\n\n- **Parámetros relevantes:** Configuración híbrida con prevalidación CRC\n  y staging.\n\n- **Cambios recientes:**\n\n  - Flujo ETL activo desde abril 2024, con carga de 2.1 millones de\n    registros en 35 minutos.\n\n  - Estrategia de validación cruzada de claves y agrupadores desde\n    Coral. o Consola de trazabilidad de cargas entregada a\n    Reporting/Navantia en mayo 2025.\n\n### 3.5.2. Contexto y dependencias\n\nEsta instancia, basada en SQL Server 2022, da soporte a proyectos\ndesplegados en Noruega y contiene su propia versión de Necor@AWD.\nReplica los datos de forma independiente desde el PDB general,\nasegurando autonomía y seguridad en la gestión de información.\n\nEl flujo ETL, pionero en validación completa, incorpora trazabilidad\nend-to-end desde las fuentes Coral hasta la explotación en Power BI,\npasando por etapas de staging, validación y carga incremental.\n\nLos procesos diarios están optimizados para manejar grandes volúmenes de\ndatos —más de 2 millones de registros por carga— con tiempos inferiores\na 40 minutos. El entorno dispone de alertas y logs que permiten\nmonitorizar el estado de sincronización, errores y métricas clave.\n\nEsta instancia es un referente técnico para futuros despliegues en\nentornos similares, demostrando la viabilidad de operaciones con\nréplicas distribuidas, controladas y auditables.\n\nActualmente, la base de datos que alimenta el PDB de Noruega está en\nfase de migración, en preparación para el apagado gradual de la\ninstancia legacy MASQL2014/SQLNORWAY.\n\n## 3.6. MASERVF9 – (Antiguo MANECNET)\n\nServidor Windows Server 2019 con IIS 10 y .NET Framework 4.8 que cumple\nuna doble función crítica dentro del ecosistema Necor@: actúa como\npasarela de integración entre SAP PO y las bases de datos de Navantia, y\ncomo servidor documental que almacena los ficheros físicos del sistema\nde Gestión Documental.\n\n### 3.6.1. Características generales\n\n<table>\n<colgroup>\n<col style=\"width: 15%\" />\n<col style=\"width: 84%\" />\n</colgroup>\n<thead>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Elemento</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Valor</strong></p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>FQDN / IP</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\">maservf9.izar.es / 10.100.161.76</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>OS / Build</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\">Windows Server 2019 Std 10.0.17763</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>IIS / .NET</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\">IIS 10 + .NET Framework 4.8</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Aplicación</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\">NecoraWebIntegrator.svc (SOAP 1.2 &amp;\nREST: Login + SetInfoMateriales)</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Entrantes</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\">SAP PO → HTTPS + BasicAuth</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Salientes</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\">ODBC fijo → MASQL20171/HOSTDB2 (puerto\n1452)</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Seguridad</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\">TLS 1.2 activo · Certificado Let’s Encrypt\n· Token BasicAuth anual</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Timeouts</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\">HTTP 90 s · ODBC 30 s</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Backups</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\">Veeam Agent diarios (02:30 UTC) →\nNAS-P9</th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><blockquote>\n<p><strong>Migración</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\">Clonado MANECNET → go-live\n08-ene-2025</th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n\n### 3.6.2. Funciones y contexto\n\n- **Integración:** Hospeda el WebService NecoraMQ\n  (NecoraWebIntegrator.svc), que expone operaciones SOAP y REST para\n  consulta y validación de materiales, órdenes y hojas de catálogo. Las\n  peticiones se comunican con HOSTDB2 vía ODBC configurado con puerto\n  TCP fijo 1452, garantizando seguridad mediante TLS 1.2 y autenticación\n  por token renovable anualmente.\n\n- **Gestión documental:** Mantiene el almacén físico de documentos\n  digitales (PDFs, hojas técnicas, planos) usados por aplicaciones\n  Necor@AWD, Necor@NC y otras, compartidos vía SMB para acceso interno.\n\n- **Migración:** Resultado de la migración parcial desde el antiguo\n  servidor MANECNET, apagado en octubre de 2024. Se trasladaron\n  únicamente componentes documentales y servicios de integración,\n  descartando la migración completa de Necor@V6.\n\n3.6.3. Cronología de migración y normalización\n\n<img src=\"C:/PROYECTOS_GPT/wiki_documental/wiki/assets/media/image1.jpg\"\nstyle=\"width:7.18472in;height:1.78403in\" />\n\nFigura 3.6-2 presenta la cronología del proceso de migración desde\nMANECNET a MASERVF9 y la estabilización del flujo de materiales, que se\ndesarrolló entre el 23 de octubre de 2024 y el 8 de enero de 2025.\n\n### 3.6.4. Incidencias y acciones correctivas principales\n\n<table>\n<colgroup>\n<col style=\"width: 20%\" />\n<col style=\"width: 29%\" />\n<col style=\"width: 26%\" />\n<col style=\"width: 23%\" />\n</colgroup>\n<thead>\n<tr>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Ticket / Fecha</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Descripción</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Acción ejecutada</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Resultado</strong></p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">GLPI #849716 – 08nov-2024</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>SAP deja de notificar cambios de materiales</p>\n</blockquote></th>\n<th style=\"text-align: left;\"><p>Análisis raíz: parada de</p>\n<p>MANECNET</p></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Migración decidida a</p>\n<p>MASERVF9</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Ticket / Fecha</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Descripción</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Acción ejecutada</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Resultado</strong></p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">GLPI #856409 – 26nov-2024</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Timeout MASERVF9 →</p>\n<p>HOSTDB2</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Fijar puerto SQL en 1452 y reiniciar\nDSN</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Conectividad restablecida 27-nov</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\">GLPI #857752 – 29nov-2024</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Access Denied desde SAP PO</p>\n<p>(P9P)</p>\n</blockquote></th>\n<th style=\"text-align: left;\">Apertura reglas FW y validación\nSOAP-UI</th>\n<th style=\"text-align: left;\"><blockquote>\n<p>Error 500 resuelto 13dic</p>\n</blockquote></th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n\n### 3.6.5. Lecciones aprendidas y recomendaciones\n\n- Documentar exhaustivamente las dependencias de puertos SQL, evitando\n  asignaciones dinámicas.\n\n- Validar cambios en entornos espejo o pre-producción antes de\n  desactivar sistemas legados.\n\n- Automatizar pruebas E2E (SOAP-UI CLI + SQL ping) tras cada\n  modificación infraestructural.\n\n- Configurar alertas Centreon para códigos HTTP 5xx en el servicio\n  NecoraWebIntegrator.\n\n"
  },
  {
    "title": "4. Arquitectura funcional del flujo F100",
    "path": "7_4-arquitectura-funcional-del-flujo-f100.md",
    "body": "---\nsource: EstadoActualPlataformaBBD_V0306_10_32.md\ndoc_source: EstadoActualPlataformaBBD_V0306_10_32.docx\ncreated: 2025-06-15T23:33:05.578320\n---\n<div class=\"fragment-meta\">source: EstadoActualPlataformaBBD_V0306_10_32.md | doc: EstadoActualPlataformaBBD_V0306_10_32.docx | created: 2025-06-15T23:33:05.578320</div>\n\n# 4. Arquitectura funcional del flujo F100 \n\n<img src=\"C:/PROYECTOS_GPT/wiki_documental/wiki/assets/media/image5.jpg\"\nstyle=\"width:9.39375in;height:4.075in\" />\n\nEl flujo funcional denominado **F100** constituye el núcleo del proceso\nde **carga estructurada de datos de obras** en el ecosistema de bases de\ndatos de Navantia. Esta arquitectura permite la integración coordinada\nde información procedente de **SAP, ECADAT y sistemas legados\n(DB2/VSAM)** hacia las bases de datos funcionales del entorno AWD,\naplicando reglas de negocio, validaciones y consolidación por país o\ncliente final.\n\nEl esquema general de F100 está compuesto por las siguientes fases y\ncomponentes:\n\n## 4.1. Origen de datos\n\nLos datos de obra se generan en distintos sistemas fuente:\n\n- **SAP**: estructura técnica y materiales asociados.\n\n- **ECADAT**: catálogos de elementos constructivos.\n\n- **DB2/VSAM** y **Necora Negro**: datos heredados, consolidados en\n  Mirror DB2/SAM para compatibilidad.\n\nEstos datos se integran inicialmente en bases intermedias como New PRYC,\nPRYC, GDoc o Necor@ECADAT.\n\n## 4.2. Interfaces de carga principales\n\nLas dos cargas operativas clave son:\n\n<table>\n<colgroup>\n<col style=\"width: 14%\" />\n<col style=\"width: 44%\" />\n<col style=\"width: 41%\" />\n</colgroup>\n<thead>\n<tr>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Job</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Instancia</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Descripción</strong></p>\n</blockquote></th>\n</tr>\n<tr>\n<th><blockquote>\n<p><strong>Job 21: Carga</strong></p>\n</blockquote></th>\n<th><blockquote>\n<p>MASQL20142/NECORANET.InterfacesAWD_PEC</p>\n</blockquote></th>\n<th><blockquote>\n<p>Integra información desde SAP, ECADAT y PRYC. Aplica validaciones\niniciales.</p>\n</blockquote></th>\n</tr>\n<tr>\n<th><blockquote>\n<p><strong>Job 22: Carga</strong></p>\n</blockquote></th>\n<th style=\"text-align: left;\">NAILInterfacesAWD</th>\n<th><blockquote>\n<p>Permite mantener consistencia en el modelo</p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Job</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Instancia</strong></p>\n</blockquote></th>\n<th style=\"text-align: center;\"><blockquote>\n<p><strong>Descripción</strong></p>\n</blockquote></th>\n</tr>\n<tr>\n<th style=\"text-align: left;\"><strong>Nail PEC</strong></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"><blockquote>\n<p>PEC, especializado para entornos AWD.</p>\n</blockquote></th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n\nAmbos jobs están planificados como procesos automáticos, bajo SQL Agent,\ncon control de errores y trazabilidad mediante logs.\n\n## 4.3. Reglas de negocio y transformación\n\nPrevio al volcado en bases finales, los datos pasan por un proceso de\nvalidación y enriquecimiento definido como “**MD. Aplica Reglas de\nNegocio**”, que se ejecuta en:\n\n- MASQL2014/SQLTURK (Turquía)\n\n- NORUEGAS (Noruega)\n\n- AWD V 1.0 y AWD V 2.0 (clientes internos y externos)\n\nEstas reglas comprueban la consistencia estructural, claves maestras,\nrelaciones válidas y codificación de campos técnicos. En el esquema se\nidentifican claramente los puntos donde se aplican dichas reglas en rojo\n(“Aplica Reglas de Negocio AWD”).\n\n## 4.4. Consolidación y publicación de datos\n\nEl objeto **PDB** actúa como **centro de consolidación lógico**,\nrecogiendo la información filtrada y estructurada desde Interfaces\nHOST_AWD_PEC y Necor@Net. Desde este punto, se redistribuye a los\nentornos de destino:\n\n- InterfacesAWD\n\n- InterfacesAWD.EEA5\n\n- FESRVAD02.ESS\n\n- MA SQL20221/SQLTURK y /SQLNORWAY\n\nEstas instancias están diseñadas para soportar entornos funcionales,\npruebas, publicaciones a clientes externos o acceso desde plataformas\ncomo Power BI.\n\n### 4.4.1. Integración ampliada del modelo funcional – Foran /<-/> Windchill /<-/> SAP\n\nDentro del modelo operativo ampliado para entornos de Ingeniería, se ha\nestablecido una arquitectura de integración funcional entre los sistemas\nForan, Windchill y SAP. Esta arquitectura automatiza la conversión,\nvinculación y sincronización de las estructuras de producto (EBOM/MBOM),\ndocumentos técnicos y órdenes planificadas, facilitando la trazabilidad\ny coherencia en todo el ciclo de vida del producto.\n\nEl flujo se articula en torno a los siguientes conceptos clave:\n\n- **EBOM (Design View) y MBOM (Manufacturing View):** Generadas desde\n  los módulos de Foran (FBUILDS, FDESIGN, FSYSD, FNEST), representan\n  respectivamente la estructura de diseño y fabricación del producto.\n\n- **Documentos IDD/IP:** Creación, gestión y aprobación dentro de\n  Windchill, con trazabilidad detallada de revisiones y estados.\n\n- **Publicación y vinculación automática:** Los materiales y documentos\n  se publican desde Foran hacia Windchill, y posteriormente se\n  sincronizan con SAP, garantizando la consistencia de la información.\n\n- **Estructuras de planificación y órdenes previsionales:** Se\n  transfieren a SAP (etapas OPrev1, OPrev2, OP1–OP6) para su ejecución y\n  control en planta.\n\nAdemás, el modelo incluye:\n\n- **Reglas de conversión:** Adaptadas a cada producto y tipo documental,\n  para asegurar la correcta transformación y mapeo entre sistemas.\n\n- **Mecanismos de verificación:** Procesos ESI y MRP integrados en el\n  momento de la sincronización con SAP, que validan la viabilidad\n  técnica y de planificación.\n\n- **Integración avanzada:** Control económico, subcontratación y gestión\n  del cambio gestionados desde Windchill mediante ProjectLink, que\n  asegura la coherencia administrativa y técnica.\n\nEste flujo representa el marco general para la automatización documental\ny de ingeniería, y es fundamental para comprender los orígenes, destinos\ny relaciones de la información técnica que alimenta el ecosistema de\nbases de datos y reporting.\n\n<img src=\"C:/PROYECTOS_GPT/wiki_documental/wiki/assets/media/image4.jpg\"\nstyle=\"width:7.18472in;height:2.86667in\" />\n\n## 4.5. Validación de calidad y revisión\n\nLa arquitectura incorpora mecanismos explícitos de revisión, como el\nnodo “**Revisar calidad de datos**” que opera tras las primeras\ninterfaces (HOST_AWD_PEC). Esto incluye:\n\n- Comparaciones CRC (control de redundancia cíclica)\n\n- Revisión de integridad relacional\n\n- Chequeo de campos obligatorios y reglas específicas por cliente\n\n- Logs de control y excepciones\n\n## 4.6. Escenarios operativos\n\nSe contemplan dos tipos de ejecución:\n\n- **Carga completa**: aplicada en escenarios iniciales o de\n  reestructuración completa de obras.\n\n- **Carga incremental**: basada en cambios detectados (timestamp, flags\n  lógicos, triggers en origen), activando solo las rutas necesarias.\n\n## 4.7. Supervisión operativa y alertado\n\nEn este entorno se ha establecido un modelo de trabajo dual: por un\nlado, la gestión y explotación interna de los datos AWD; y por otro, la\npreparación de flujos estructurados hacia instancias remotas (SQLTURK y\nSQLNORWAY) a través del objeto **PDB**. Este objeto actúa como “puente\nlógico” entre los entornos locales y los clientes internacionales,\nasegurando la consistencia estructural y minimizando el acoplamiento\nentre esquemas.\n\n## 4.8. Consideraciones de mejora\n\nLa arquitectura actual ha demostrado ser robusta y funcional, pero\npueden abordarse mejoras para simplificar la trazabilidad y\nmantenimiento:\n\n- Consolidar los puntos de aplicación de reglas de negocio en un único\n  motor o repositorio.\n\n- Unificar nomenclatura de interfaces y vistas entre instancias.\n\n- Automatizar validaciones en origen antes de ejecutar cargas (previa a\n  Job 21).\n\n- Documentar un protocolo de fallback ante errores en fases críticas del\n  flujo (job fallido, validación fallida).\n\n"
  },
  {
    "title": "5. Calidad y riesgos actuales",
    "path": "8_5-calidad-y-riesgos-actuales.md",
    "body": "---\nsource: EstadoActualPlataformaBBD_V0306_10_32.md\ndoc_source: EstadoActualPlataformaBBD_V0306_10_32.docx\ncreated: 2025-06-15T23:33:05.580320\n---\n<div class=\"fragment-meta\">source: EstadoActualPlataformaBBD_V0306_10_32.md | doc: EstadoActualPlataformaBBD_V0306_10_32.docx | created: 2025-06-15T23:33:05.580320</div>\n\n# 5. Calidad y riesgos actuales \n\nEl sistema actual presenta un estado de operación estable, con mejoras\nsustanciales de rendimiento tras la consolidación de datos en instancias\nSQL Server modernas (2017–2022) y la reestructuración de vistas e\níndices. No obstante, existen **riesgos operativos y técnicos** que\ndeben ser considerados:\n\n- **Heterogeneidad tecnológica**: conviven versiones desde SQL Server\n  2008 R2 hasta 2022, lo que dificulta la unificación de estrategias de\n  mantenimiento, backup y seguridad.\n\n- **Instancias con soporte expirado** (MAHOST, SQL20142): aunque en modo\n  sólo-lectura, siguen presentes en el entorno y requieren control hasta\n  su decommission.\n\n- **Riesgos de obsolescencia funcional**: ciertas dependencias en\n  Necor@V6, ECADA o interfaces PEC siguen ancladas a estructuras\n  heredadas, dificultando la modernización.\n\n- **Puntos críticos sin HA (alta disponibilidad)**: algunas instancias\n  claves no disponen de réplica o failover automático, lo que incrementa\n  la exposición ante caídas no planificadas.\n\n- **Dependencias manuales en flujos ETL**: aunque automatizados, los\n  flujos de Turquía y Noruega aún dependen de comprobaciones visuales en\n  ciertas etapas.\n\nEn cuanto a calidad, las mejoras en índices, sinónimos y vistas\nfuncionales han permitido reducir los tiempos de respuesta entre un\n**30 % y 50 %** en procedimientos críticos. Se han implantado controles\nCRC y logs que aseguran trazabilidad, pero aún no existe una cobertura\ntotal de pruebas automatizadas ni de alertas proactivas de rendimiento.\nSe recomienda avanzar en esas áreas como parte del plan de evolución\ntécnica.\n\n"
  },
  {
    "title": "99_unclassified",
    "path": "99_unclassified.md",
    "body": "---\nsource: EstadoActualPlataformaBBD_V0306_10_32.md\ndoc_source:\n  - 20221115_TraspasoConocimientos.docx\n  - EstadoActualPlataformaBBD_V0306_10_32.docx\ncreated: 2025-06-15 23:33:05.502322\n---\n<div class=\"fragment-meta\">source: EstadoActualPlataformaBBD_V0306_10_32.md | doc: 20221115_TraspasoConocimientos.docx, EstadoActualPlataformaBBD_V0306_10_32.docx | created: 2025-06-15 23:33:05.502322</div>\n\nÍNDICE\n\n"
  },
  {
    "title": "6. Próximos pasos recomendados",
    "path": "9_6-proximos-pasos-recomendados.md",
    "body": "---\nsource: EstadoActualPlataformaBBD_V0306_10_32.md\ndoc_source: EstadoActualPlataformaBBD_V0306_10_32.docx\ncreated: 2025-06-15T23:33:05.581322\n---\n<div class=\"fragment-meta\">source: EstadoActualPlataformaBBD_V0306_10_32.md | doc: EstadoActualPlataformaBBD_V0306_10_32.docx | created: 2025-06-15T23:33:05.581322</div>\n\n# 6. Próximos pasos recomendados \n\nEl principal hito pendiente identificado a corto-medio plazo es la\n**migración completa de las instancias actuales en MA SQL20142 (tanto\nSQL20142 como NECORANET) hacia una nueva instancia consolidada MA\nSQL20222 basada en SQL Server 2022**. Esta acción, alineada con las\npolíticas de modernización tecnológica y soporte de plataforma,\nimplicará una revisión exhaustiva de todo el entorno actual.\n\nDicha revisión debe incluir:\n\n- **Análisis y validación de compatibilidad** de procedimientos\n  almacenados, funciones, vistas y sinónimos actualmente en uso.\n\n- **Revisión de flujos ETL, enlaces de servidor y servicios asociados**\n  (como Reporting Services y Power BI).\n\n- **Evaluación de vistas funcionales y refactorización de estructuras\n  heredadas**, con el objetivo de simplificar lógicas innecesarias y\n  mejorar el rendimiento global.\n\n- **Homologación de estándares técnicos**: nombres de objetos,\n  collation, agrupación de esquemas por rol funcional, etc.\n\n- **Prueba completa de rendimiento comparado**, para asegurar que la\n  nueva instancia mantiene o mejora los tiempos actuales, especialmente\n  en vistas /_V, índices aplicados y llamadas desde Necor@.\n\nEste proceso no solo permitirá abandonar entornos sin soporte y reducir\nriesgos operativos, sino que abrirá la puerta a **implementar buenas\nprácticas y optimizaciones** que en el estado actual están condicionadas\npor la necesidad de mantener compatibilidad hacia atrás.\n\nAdicionalmente, se recomienda:\n\n- Consolidar backups y planes de mantenimiento en entornos más robustos\n  (Azure SQL Managed Instance en el medio plazo).\n\n- Ampliar los mecanismos de alertas y trazabilidad, especialmente en\n  entornos internacionales.\n\nEstas acciones permitirán avanzar hacia una **plataforma unificada,\nsegura y preparada para integraciones futuras**, cumpliendo con los\nrequisitos operativos internos y externos de Navantia.\n\n"
  }
]